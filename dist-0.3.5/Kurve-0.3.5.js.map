{"version":3,"sources":["Kurve.ts"],"names":["Kurve","Kurve.DispatchDeferred","Kurve.PromiseState","Kurve.Client","Kurve.Client.constructor","Kurve.Client.resolve","Kurve.Client.reject","Kurve.Client._dispatchCallback","Kurve.Deferred","Kurve.Deferred.constructor","Kurve.Deferred.DispatchDeferred","Kurve.Deferred.then","Kurve.Deferred.resolve","Kurve.Deferred._resolve","Kurve.Deferred.reject","Kurve.Deferred._reject","Kurve.Promise","Kurve.Promise.constructor","Kurve.Promise.then","Kurve.Promise.fail","Kurve.Error","Kurve.Error.constructor","Kurve.Identity","Kurve.Identity.constructor","Kurve.Identity.decodeIdToken","Kurve.Identity.decodeAccessToken","Kurve.Identity.getIdToken","Kurve.Identity.isLoggedIn","Kurve.Identity.renewIdToken","Kurve.Identity.getAccessTokenAsync","Kurve.Identity.getAccessToken","Kurve.Identity.loginAsync","Kurve.Identity.login","Kurve.Identity.logOut","Kurve.Identity.base64Decode","Kurve.Identity.generateNonce","Kurve.ProfilePhotoDataModel","Kurve.ProfilePhotoDataModel.constructor","Kurve.ProfilePhoto","Kurve.ProfilePhoto.constructor","Kurve.ProfilePhoto.data","Kurve.UserDataModel","Kurve.UserDataModel.constructor","Kurve.User","Kurve.User.constructor","Kurve.User.data","Kurve.User.memberOf","Kurve.User.memberOfAsync","Kurve.User.messages","Kurve.User.messagesAsync","Kurve.User.manager","Kurve.User.managerAsync","Kurve.User.profilePhoto","Kurve.User.profilePhotoAsync","Kurve.User.profilePhotoValue","Kurve.User.profilePhotoValueAsync","Kurve.User.calendar","Kurve.User.calendarAsync","Kurve.Users","Kurve.Users.constructor","Kurve.Users.data","Kurve.MessageDataModel","Kurve.MessageDataModel.constructor","Kurve.Message","Kurve.Message.constructor","Kurve.Message.data","Kurve.Messages","Kurve.Messages.constructor","Kurve.Messages.data","Kurve.CalendarEvent","Kurve.CalendarEvent.constructor","Kurve.CalendarEvents","Kurve.CalendarEvents.constructor","Kurve.CalendarEvents.data","Kurve.Contact","Kurve.Contact.constructor","Kurve.GroupDataModel","Kurve.GroupDataModel.constructor","Kurve.Group","Kurve.Group.constructor","Kurve.Group.data","Kurve.Groups","Kurve.Groups.constructor","Kurve.Groups.data","Kurve.Graph","Kurve.Graph.constructor","Kurve.Graph.meAsync","Kurve.Graph.me","Kurve.Graph.userAsync","Kurve.Graph.user","Kurve.Graph.usersAsync","Kurve.Graph.users","Kurve.Graph.groupAsync","Kurve.Graph.group","Kurve.Graph.groups","Kurve.Graph.groupsAsync","Kurve.Graph.messagesForUser","Kurve.Graph.messagesForUserAsync","Kurve.Graph.calendarForUser","Kurve.Graph.calendarForUserAsync","Kurve.Graph.memberOfForUser","Kurve.Graph.memberOfForUserAsync","Kurve.Graph.managerForUser","Kurve.Graph.managerForUserAsync","Kurve.Graph.directReportsForUser","Kurve.Graph.directReportsForUserAsync","Kurve.Graph.profilePhotoForUser","Kurve.Graph.profilePhotoForUserAsync","Kurve.Graph.profilePhotoValueForUser","Kurve.Graph.profilePhotoValueForUserAsync","Kurve.Graph.getAsync","Kurve.Graph.get","Kurve.Graph.generateError","Kurve.Graph.getUsers","Kurve.Graph.getUser","Kurve.Graph.addAccessTokenAndSend","Kurve.Graph.getMessages","Kurve.Graph.getGroups","Kurve.Graph.getGroup","Kurve.Graph.getPhoto","Kurve.Graph.getPhotoValue","Kurve.Graph.buildMeUrl","Kurve.Graph.buildUsersUrl","Kurve.Graph.buildGroupsUrl"],"mappings":"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AACA,CAACA;YAC/HA,MAAMA,CAACA,QAAQA,CAACA,IAAIA,GAAGA,GAAGA,CAACA;QAC/BA,CAACA;QAEOX,+BAAYA,GAApBA,UAAqBA,aAAqBA;YACtCY,IAAIA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,GAAGA,MAAMA,CAACA,YAAYA,EAAEA,CAACA,GAAGA,aAAaA,CAACA,MAAMA,CAACA;YAChGA,IAAIA,CAACA,GAAGA,kEAAkEA,CAACA;YAC3EA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA;YAACA,CAACA;YAChDA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACrBA,CAACA,GAAGA,CAACA,CAACA,aAAaA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAACA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;gBAACA,CAACA,IAAIA,CAACA,CAACA;gBACzDA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA;oBAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAACA,CAACA;YACvFA,CAACA;YACDA,MAAMA,CAACA,CAACA,CAACA;QACbA,CAACA;QAEOZ,gCAAaA,GA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","file":"Kurve.js","sourcesContent":["// Adapted from the original source: https://github.com/DirtyHairy/typescript-deferred\r\n// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See full license at the bottom of this file.\r\n\r\nmodule Kurve {\r\n\r\n\r\n    function DispatchDeferred(closure: () => void) {\r\n        setTimeout(closure, 0);\r\n    }\r\n\r\n    enum PromiseState { Pending, ResolutionInProgress, Resolved, Rejected }\r\n\r\n    class Client {\r\n        constructor(\r\n            private _dispatcher: (closure: () => void) => void,\r\n            private _successCB: any,\r\n            private _errorCB: any\r\n        ) {\r\n            this.result = new Deferred<any, any>(_dispatcher);\r\n        }\r\n\r\n        resolve(value: any, defer: boolean): void {\r\n            if (typeof (this._successCB) !== 'function') {\r\n                this.result.resolve(value);\r\n                return;\r\n            }\r\n\r\n            if (defer) {\r\n                this._dispatcher(() => this._dispatchCallback(this._successCB, value));\r\n            } else {\r\n                this._dispatchCallback(this._successCB, value);\r\n            }\r\n        }\r\n\r\n        reject(error: any, defer: boolean): void {\r\n            if (typeof (this._errorCB) !== 'function') {\r\n                this.result.reject(error);\r\n                return;\r\n            }\r\n\r\n            if (defer) {\r\n                this._dispatcher(() => this._dispatchCallback(this._errorCB, error));\r\n            } else {\r\n                this._dispatchCallback(this._errorCB, error);\r\n            }\r\n        }\r\n\r\n        private _dispatchCallback(callback: (arg: any) => any, arg: any): void {\r\n            var result: any,\r\n                then: any,\r\n                type: string;\r\n\r\n            try {\r\n                result = callback(arg);\r\n                this.result.resolve(result);\r\n            } catch (err) {\r\n                this.result.reject(err);\r\n                return;\r\n            }\r\n        }\r\n\r\n        result: Deferred<any, any>;\r\n    }\r\n\r\n    export class Deferred<T, E>  {\r\n        private _dispatcher: (closure: () => void)=> void;\r\n\r\n        constructor();\r\n        constructor(dispatcher: (closure: () => void) => void);\r\n        constructor(dispatcher?: (closure: () => void) => void) {\r\n            if (dispatcher)\r\n                this._dispatcher = dispatcher;\r\n            else\r\n                this._dispatcher = DispatchDeferred;\r\n            this.promise = new Promise<T, E>(this);\r\n        }\r\n\r\n        private DispatchDeferred(closure: () => void) {\r\n            setTimeout(closure, 0);\r\n        }\r\n\r\n        then(successCB: any, errorCB: any): any {\r\n            if (typeof (successCB) !== 'function' && typeof (errorCB) !== 'function') {\r\n                return this.promise;\r\n            }\r\n\r\n            var client = new Client(this._dispatcher, successCB, errorCB);\r\n\r\n            switch (this._state) {\r\n                case PromiseState.Pending:\r\n                case PromiseState.ResolutionInProgress:\r\n                    this._stack.push(client);\r\n                    break;\r\n\r\n                case PromiseState.Resolved:\r\n                    client.resolve(this._value, true);\r\n                    break;\r\n\r\n                case PromiseState.Rejected:\r\n                    client.reject(this._error, true);\r\n                    break;\r\n            }\r\n\r\n            return client.result.promise;\r\n        }\r\n\r\n        resolve(value?: T): Deferred<T, E>;\r\n\r\n        resolve(value?: Promise<T, E>): Deferred<T, E>;\r\n\r\n        resolve(value?: any): Deferred<T, E> {\r\n            if (this._state !== PromiseState.Pending) {\r\n                return this;\r\n            }\r\n\r\n            return this._resolve(value);\r\n        }\r\n\r\n        private _resolve(value: any): Deferred<T, E> {\r\n            var type = typeof (value),\r\n                then: any,\r\n                pending = true;\r\n\r\n            try {\r\n                if (value !== null &&\r\n                    (type === 'object' || type === 'function') &&\r\n                    typeof (then = value.then) === 'function') {\r\n                    if (value === this.promise) {\r\n                        throw new TypeError('recursive resolution');\r\n                    }\r\n\r\n                    this._state = PromiseState.ResolutionInProgress;\r\n                    then.call(value,\r\n                        (result: any): void => {\r\n                            if (pending) {\r\n                                pending = false;\r\n                                this._resolve(result);\r\n                            }\r\n                        },\r\n                        (error: any): void => {\r\n                            if (pending) {\r\n                                pending = false;\r\n                                this._reject(error);\r\n                            }\r\n                        }\r\n                    );\r\n                } else {\r\n                    this._state = PromiseState.ResolutionInProgress;\r\n\r\n                    this._dispatcher(() => {\r\n                        this._state = PromiseState.Resolved;\r\n                        this._value = value;\r\n\r\n                        var i: number,\r\n                            stackSize = this._stack.length;\r\n\r\n                        for (i = 0; i < stackSize; i++) {\r\n                            this._stack[i].resolve(value, false);\r\n                        }\r\n\r\n                        this._stack.splice(0, stackSize);\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                if (pending) {\r\n                    this._reject(err);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n\r\n        reject(error?: E): Deferred<T, E> {\r\n            if (this._state !== PromiseState.Pending) {\r\n                return this;\r\n            }\r\n\r\n            return this._reject(error);\r\n        }\r\n\r\n        private _reject(error?: any): Deferred<T, E> {\r\n            this._state = PromiseState.ResolutionInProgress;\r\n\r\n            this._dispatcher(() => {\r\n                this._state = PromiseState.Rejected;\r\n                this._error = error;\r\n\r\n                var stackSize = this._stack.length,\r\n                    i = 0;\r\n\r\n                for (i = 0; i < stackSize; i++) {\r\n                    this._stack[i].reject(error, false);\r\n                }\r\n\r\n                this._stack.splice(0, stackSize);\r\n            });\r\n\r\n            return this;\r\n        }\r\n\r\n        promise: Promise<T, E>;\r\n\r\n        private _stack: Array<Client> = [];\r\n        private _state = PromiseState.Pending;\r\n        private _value: T;\r\n        private _error: any;\r\n    }\r\n\r\n    export class Promise<T, E> implements Promise<T, E> {\r\n        constructor(private _deferred: Deferred<T, E>) { }\r\n\r\n        then<R>(\r\n            successCallback?: (result: T) => R,\r\n            errorCallback?: (error: E) => R\r\n        ): Promise<R, E>;\r\n\r\n        then(successCallback: any, errorCallback: any): any {\r\n            return this._deferred.then(successCallback, errorCallback);\r\n        }\r\n\r\n        fail<R>(\r\n            errorCallback?: (error: E) => R\r\n        ): Promise<R, E>;\r\n\r\n        fail(errorCallback: any): any {\r\n            return this._deferred.then(undefined, errorCallback);\r\n        }\r\n    }\r\n}\r\n\r\n//*********************************************************   \r\n//   \r\n//Kurve js, https://github.com/microsoftdx/kurvejs\r\n//  \r\n//Copyright (c) Microsoft Corporation  \r\n//All rights reserved.   \r\n//  \r\n// MIT License:  \r\n// Permission is hereby granted, free of charge, to any person obtaining  \r\n// a copy of this software and associated documentation files (the  \r\n// \"\"Software\"\"), to deal in the Software without restriction, including  \r\n// without limitation the rights to use, copy, modify, merge, publish,  \r\n// distribute, sublicense, and/or sell copies of the Software, and to  \r\n// permit persons to whom the Software is furnished to do so, subject to  \r\n// the following conditions:  \r\n\r\n\r\n\r\n\r\n// The above copyright notice and this permission notice shall be  \r\n// included in all copies or substantial portions of the Software.  \r\n\r\n\r\n\r\n\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,  \r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  \r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  \r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE  \r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION  \r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  \r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  \r\n//   \r\n//*********************************************************   \r\n\n// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See full license at the bottom of this file.\r\nmodule Kurve {\r\n    export class Error {\r\n        public status: number;\r\n        public statusText: string;\r\n        public text: string;\r\n        public other: any;\r\n    }\r\n\r\n     export class Identity {\r\n        public authContext: any = null;\r\n        public config: any = null;\r\n        public isCallback: boolean = false;\r\n        public clientId: string;\r\n        private req: XMLHttpRequest;\r\n        private state: string;\r\n        private nonce: string;\r\n        private idToken: any;\r\n        private loginCallback: (error: Error) => void;\r\n        private accessTokenCallback: (token:string, error: Error) => void;\r\n        private getTokenCallback: (token: string, error: Error) => void;\r\n        private redirectUri: string;\r\n        private tokenCache: any;\r\n        private logonUser: any;\r\n        private refreshTimer: any;\r\n    \r\n        constructor(clientId = \"\", redirectUri = \"\") {\r\n            this.clientId = clientId;\r\n            this.redirectUri = redirectUri;\r\n            this.req = new XMLHttpRequest();\r\n            this.tokenCache = {};\r\n\r\n            //Callback handler from other windows\r\n            window.addEventListener(\"message\", ((event: MessageEvent) => {\r\n                if (event.data.type === \"id_token\") {\r\n                    //Callback being called by the login window\r\n                    if (!event.data.token) {\r\n                        this.loginCallback(event.data);\r\n                    }\r\n                    else {\r\n                        //check for state\r\n                        if (this.state !== event.data.state) {\r\n                            var error = new Error();\r\n                            error.statusText = \"Invalid state\";\r\n                            this.loginCallback(error);\r\n                        } else {\r\n                            this.decodeIdToken(event.data.token);\r\n                            this.loginCallback(null);\r\n                        }\r\n                    }\r\n                } else if (event.data.type === \"access_token\") {\r\n                    //Callback being called by the iframe with the token\r\n                    if (!event.data.token)\r\n                        this.getTokenCallback(null, event.data);\r\n                    else {\r\n                        var token:string = event.data.token;\r\n                        var iframe = document.getElementById(\"tokenIFrame\");\r\n                        iframe.parentNode.removeChild(iframe);\r\n\r\n                        if (event.data.state !== this.state) {\r\n                            var error = new Error();\r\n                            error.statusText = \"Invalid state\";\r\n                            this.getTokenCallback(null, error);\r\n                        }\r\n                        else {\r\n                            this.getTokenCallback(token, null);\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n        }\r\n\r\n        private decodeIdToken(idToken: string): void {\r\n           \r\n            var decodedToken = this.base64Decode(idToken.substring(idToken.indexOf('.') + 1, idToken.lastIndexOf('.')));\r\n            var decodedTokenJSON = JSON.parse(decodedToken);\r\n            var expiryDate = new Date(new Date('01/01/1970 0:0 UTC').getTime() + parseInt(decodedTokenJSON.exp) * 1000);\r\n            this.idToken = {\r\n                token: idToken,\r\n                expiry: expiryDate,\r\n                upn: decodedTokenJSON.upn,\r\n                tenantId: decodedTokenJSON.tid,\r\n                family_name: decodedTokenJSON.family_name,\r\n                given_name: decodedTokenJSON.given_name,\r\n                name: decodedTokenJSON.name\r\n            }\r\n            var expiration: Number = expiryDate.getTime() - new Date().getTime() - 300000;\r\n\r\n            this.refreshTimer = setTimeout((() => {\r\n                this.renewIdToken();\r\n            }), expiration); \r\n        }\r\n\r\n        private decodeAccessToken(accessToken: string, resource:string): void {\r\n            var decodedToken = this.base64Decode(accessToken.substring(accessToken.indexOf('.') + 1, accessToken.lastIndexOf('.')));\r\n            var decodedTokenJSON = JSON.parse(decodedToken);\r\n            var expiryDate = new Date(new Date('01/01/1970 0:0 UTC').getTime() + parseInt(decodedTokenJSON.exp) * 1000);\r\n            this.tokenCache[resource] = {\r\n                resource: resource,\r\n                token: accessToken,\r\n                expiry: expiryDate\r\n            }\r\n        }\r\n\r\n        public getIdToken(): any {\r\n            return this.idToken;\r\n        }\r\n        public isLoggedIn(): boolean {\r\n            if (!this.idToken) return false;\r\n            return (this.idToken.expiry > new Date());\r\n        }\r\n\r\n        private renewIdToken(): void {\r\n            clearTimeout(this.refreshTimer);\r\n            this.login((() => {\r\n\r\n            }));\r\n        }\r\n\r\n        public getAccessTokenAsync(resource: string): Promise<string,Error> {\r\n\r\n            var d = new Deferred<string,Error>();\r\n            this.getAccessToken(resource, ((token, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(token);\r\n                }\r\n            }));\r\n            return d.promise;\r\n        }\r\n\r\n      \r\n\r\n        public getAccessToken(resource: string, callback: (token: string, error: Error) => void): void {\r\n            //Check for cache and see if we have a valid token\r\n            var cachedToken = this.tokenCache[resource];\r\n            if (cachedToken) {\r\n                //We have it cached, has it expired? (5 minutes error margin)\r\n                if (cachedToken.expiry > (new Date(new Date().getTime() + 60000))) {\r\n                    callback(<string>cachedToken.token, null);\r\n                    return;\r\n                }\r\n            }\r\n            //If we got this far, we need to go get this token\r\n\r\n            //Need to create the iFrame to invoke the acquire token\r\n            this.getTokenCallback = ((token: string, error: Error) => {\r\n                if (error) {\r\n                    callback(null, error);\r\n                }\r\n                else {\r\n                    this.decodeAccessToken(token, resource);\r\n                    callback(token, null);\r\n\r\n                }\r\n            });\r\n\r\n            this.nonce = this.generateNonce();\r\n            this.state = this.generateNonce();\r\n\r\n            var iframe = document.createElement('iframe');\r\n            iframe.style.display = \"none\";\r\n            iframe.id = \"tokenIFrame\";\r\n            iframe.src = \"./login.html?clientId=\" + encodeURIComponent(this.clientId) +\r\n            \"&resource=\" + encodeURIComponent(resource) +\r\n            \"&redirectUri=\" + encodeURIComponent(this.redirectUri) +\r\n            \"&state=\" + encodeURIComponent(this.state) +\r\n            \"&nonce=\" + encodeURIComponent(this.nonce);\r\n            document.body.appendChild(iframe);\r\n        }\r\n\r\n        public loginAsync(): Promise<void, Error> {\r\n            var d = new Deferred<void,Error>();\r\n            this.login(((error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                }\r\n                else {\r\n                    d.resolve(null);\r\n                }\r\n            }));\r\n            return d.promise;\r\n        }\r\n\r\n        public login(callback: (error: Error) => void): void {\r\n            this.loginCallback = callback;\r\n            this.state = this.generateNonce();\r\n            this.nonce = this.generateNonce();\r\n            window.open(\"./login.html?clientId=\" + encodeURIComponent(this.clientId) +\r\n                \"&redirectUri=\" + encodeURIComponent(this.redirectUri) +\r\n                \"&state=\" + encodeURIComponent(this.state) +\r\n                \"&nonce=\" + encodeURIComponent(this.nonce), \"_blank\");\r\n        }\r\n\r\n        public logOut(): void {\r\n            var url = \"https://login.microsoftonline.com/common/oauth2/logout?post_logout_redirect_uri=\" + encodeURI(window.location.href);\r\n            window.location.href = url;\r\n        }\r\n\r\n        private base64Decode(encodedString: string): string {\r\n            var e = {}, i, b = 0, c, x, l = 0, a, r = '', w = String.fromCharCode, L = encodedString.length;\r\n            var A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n            for (i = 0; i < 64; i++) { e[A.charAt(i)] = i; }\r\n            for (x = 0; x < L; x++) {\r\n                c = e[encodedString.charAt(x)]; b = (b << 6) + c; l += 6;\r\n                while (l >= 8) { ((a = (b >>> (l -= 8)) & 0xff) || (x < (L - 2))) && (r += w(a)); }\r\n            }\r\n            return r;\r\n        }\r\n\r\n        private generateNonce(): string {\r\n            var text = \"\";\r\n            var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n            for (var i = 0; i < 32; i++) {\r\n                text += chars.charAt(Math.floor(Math.random() * chars.length));\r\n            }\r\n            return text;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//*********************************************************   \r\n//   \r\n//Kurve js, https://github.com/microsoftdx/kurvejs\r\n//  \r\n//Copyright (c) Microsoft Corporation  \r\n//All rights reserved.   \r\n//  \r\n// MIT License:  \r\n// Permission is hereby granted, free of charge, to any person obtaining  \r\n// a copy of this software and associated documentation files (the  \r\n// \"\"Software\"\"), to deal in the Software without restriction, including  \r\n// without limitation the rights to use, copy, modify, merge, publish,  \r\n// distribute, sublicense, and/or sell copies of the Software, and to  \r\n// permit persons to whom the Software is furnished to do so, subject to  \r\n// the following conditions:  \r\n\r\n\r\n\r\n\r\n// The above copyright notice and this permission notice shall be  \r\n// included in all copies or substantial portions of the Software.  \r\n\r\n\r\n\r\n\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,  \r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  \r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  \r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE  \r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION  \r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  \r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  \r\n//   \r\n//*********************************************************   \r\n\n// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See full license at the bottom of this file.\r\nmodule Kurve {\r\n\r\n    export class ProfilePhotoDataModel {\r\n        public id: string;\r\n        public height: Number;\r\n        public width: Number;        \r\n    }\r\n\r\n    export class ProfilePhoto {\r\n        constructor(protected graph: Kurve.Graph, protected _data: ProfilePhotoDataModel) {\r\n        }\r\n\r\n        get data() { return this._data; }\r\n    }\r\n\r\n    export class UserDataModel {\r\n         public businessPhones : string;\r\n         public displayName: string;\r\n         public givenName: string;\r\n         public jobTitle: string;\r\n         public mail: string;\r\n         public mobilePhone: string;\r\n         public officeLocation: string;\r\n         public preferredLanguage: string;\r\n         public surname: string;\r\n         public userPrincipalName: string;\r\n         public id: string;\r\n    }\r\n\r\n    export class User  {        \r\n        constructor(protected graph: Kurve.Graph, protected _data: UserDataModel) {\r\n        }\r\n\r\n        get data() { return this._data; }\r\n\r\n        // These are all passthroughs to the graph\r\n\r\n        public memberOf(callback: (groups: Groups, Error) => void, Error, odataQuery?: string) {\r\n            this.graph.memberOfForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public memberOfAsync(odataQuery?: string): Promise<Messages,Error> {\r\n            return this.graph.memberOfForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }\r\n\r\n        public messages(callback: (messages: Messages, error: Error) => void, odataQuery?: string) {\r\n            this.graph.messagesForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public messagesAsync(odataQuery?: string): Promise<Messages,Error> {\r\n            return this.graph.messagesForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }\r\n\r\n        public manager(callback: (user: Kurve.User, error: Error) => void, odataQuery?: string) {\r\n            this.graph.managerForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public managerAsync(odataQuery?: string): Promise<User,Error> {\r\n            return this.graph.managerForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }      \r\n\r\n        public profilePhoto(callback: (photo: ProfilePhoto, error: Error) => void) {\r\n            this.graph.profilePhotoForUser(this._data.userPrincipalName, callback);\r\n        }\r\n\r\n        public profilePhotoAsync(): Promise<ProfilePhoto, Error> {\r\n            return this.graph.profilePhotoForUserAsync(this._data.userPrincipalName);\r\n        }\r\n\r\n        public profilePhotoValue(callback: (val: any, error: Error) => void) {\r\n            this.graph.profilePhotoValueForUser(this._data.userPrincipalName, callback);\r\n        }\r\n\r\n        public profilePhotoValueAsync(): Promise<any, Error> {\r\n            return this.graph.profilePhotoValueForUserAsync(this._data.userPrincipalName);\r\n        }\r\n\r\n        public calendar(callback: (calendarItems: CalendarEvents, error: Error) => void, odataQuery?: string) {\r\n            this.graph.calendarForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public calendarAsync(odataQuery?: string): Promise<CalendarEvents, Error> {\r\n            return this.graph.calendarForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }\r\n\r\n    }\r\n\r\n    export class Users {\r\n\r\n        public nextLink: (callback?: (users: Kurve.Users, error: Error) => void, odataQuery?: string) => Promise<Users, Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: User[]) {\r\n        }\r\n\r\n        get data(): User[] {\r\n            return this._data;\r\n        }\r\n    }\r\n    export class MessageDataModel {\r\n        bccRecipients: string[]\r\n        body: Object\r\n        bodyPreview: string;\r\n        categories: string[]\r\n        ccRecipients: string[]\r\n        changeKey: string;\r\n        conversationId: string;\r\n        createdDateTime: string;\r\n        from: any;\r\n        graph: any;\r\n        hasAttachments: boolean;\r\n        id: string;\r\n        importance: string;\r\n        isDeliveryReceiptRequested: boolean;\r\n        isDraft: boolean;\r\n        isRead: boolean;\r\n        isReadReceiptRequested: boolean;\r\n        lastModifiedDateTime: string;\r\n        parentFolderId: string;\r\n        receivedDateTime: string;\r\n        replyTo: any[]\r\n        sender: any;\r\n        sentDateTime: string;\r\n        subject: string;\r\n        toRecipients: string[]\r\n        webLink: string;\r\n    }\r\n\r\n    export class Message {\r\n        constructor(protected graph: Kurve.Graph, protected _data: MessageDataModel) {\r\n        }\r\n        get data() : MessageDataModel {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class Messages {\r\n\r\n        public nextLink: (callback?: (messages: Kurve.Messages, error: Error) => void, odataQuery?: string) => Promise<Messages, Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: Message[]) {\r\n        }\r\n\r\n        get data(): Message[] {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class CalendarEvent {\r\n    }\r\n    export class CalendarEvents {\r\n\r\n        public nextLink: (callback?: (events: Kurve.CalendarEvents, error: Error) => void, odataQuery?: string) => Promise<(events: Kurve.CalendarEvents, error: Error) => void,Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: CalendarEvent[]) {\r\n        }\r\n\r\n        get data(): CalendarEvent[] {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class Contact {\r\n    }\r\n\r\n    export class GroupDataModel {\r\n        public id: string;\r\n        public description: string;\r\n        public displayName: string;\r\n        public groupTypes: string[];\r\n        public mail: string;\r\n        public mailEnabled: Boolean;\r\n        public mailNickname: string;\r\n        public onPremisesLastSyncDateTime: Date;\r\n        public onPremisesSecurityIdentifier: string;\r\n        public onPremisesSyncEnabled: Boolean;\r\n        public proxyAddresses: string[];\r\n        public securityEnabled: Boolean;\r\n        public visibility: string;      \r\n    }\r\n\r\n    export class Group {\r\n        constructor(protected graph: Kurve.Graph, protected _data: GroupDataModel) {\r\n        }\r\n\r\n        get data() { return this._data; }\r\n\r\n    }\r\n\r\n    export class Groups {\r\n\r\n        public nextLink: (callback?: (groups: Kurve.Groups, error: Error) => void, odataQuery?: string) => Promise<Groups, Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: Group[]) {\r\n        }\r\n\r\n        get data(): Group[] {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class Graph {\r\n        private req: XMLHttpRequest = null;\r\n        private state: string = null;\r\n        private nonce: string = null;\r\n        private accessToken: string = null;\r\n        private KurveIdentity: Identity = null;\r\n        private defaultResourceID: string = \"https://graph.microsoft.com\";\r\n        private baseUrl: string = \"https://graph.microsoft.com/v1.0/\";\r\n\r\n        constructor(identityInfo: { identity: Identity });\r\n        constructor(identityInfo: { defaultAccessToken: string });\r\n        constructor(identityInfo: any) {\r\n            if (identityInfo.defaultAccessToken) {\r\n                this.accessToken = identityInfo.defaultAccessToken;\r\n            } else {\r\n                this.KurveIdentity = identityInfo.identity;\r\n            }\r\n        }\r\n      \r\n        //Users\r\n        public meAsync(odataQuery?: string): Promise<User, Error> {\r\n            var d = new Deferred<User,Error>();\r\n            this.me((user, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(user);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public me(callback: (user: User, error: Error) => void, odataQuery?: string): void {\r\n            var urlString: string = this.buildMeUrl() + \"/\";\r\n            if (odataQuery) {\r\n                urlString += \"?\" + odataQuery;\r\n            }\r\n            this.getUser(urlString, callback);\r\n        }\r\n\r\n        public userAsync(userId: string): Promise<User, Error> {\r\n            var d = new Deferred<User,Error>();\r\n            this.user(userId, (user, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(user);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public user(userId: string, callback: (user: Kurve.User, error: Error) => void): void {\r\n            var urlString: string = this.buildUsersUrl() + \"/\" + userId;\r\n            this.getUser(urlString, callback);\r\n        }\r\n\r\n        public usersAsync(odataQuery?: string): Promise<Users, Error> {\r\n            var d = new Deferred<Users,Error>();\r\n            this.users((users, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(users);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public users(callback: (users: Kurve.Users, error: Error) => void, odataQuery?: string): void {\r\n            var urlString: string = this.buildUsersUrl() + \"/\";\r\n            if (odataQuery) {\r\n                urlString += \"?\" + odataQuery;\r\n            }\r\n            this.getUsers(urlString, callback);\r\n        }\r\n\r\n        //Groups\r\n\r\n        public groupAsync(groupId: string): Promise<Group,Error> {\r\n            var d = new Deferred<Group,Error>();\r\n            this.group(groupId, (group, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(group);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public group(groupId: string, callback: (group: any, error: Error) => void): void {\r\n            var urlString: string = this.buildGroupsUrl() + \"/\" + groupId;\r\n            this.getGroup(urlString, callback);\r\n        }\r\n\r\n        public groups(callback: (groups: any, error: Error) => void, odataQuery?: string): void {\r\n            var urlString: string = this.buildGroupsUrl() + \"/\";\r\n            if (odataQuery) {\r\n                urlString += \"?\" + odataQuery;\r\n            }\r\n            this.getGroups(urlString, callback);\r\n        }\r\n\r\n        public groupsAsync(odataQuery?: string): Promise<Groups,Error> {\r\n            var d = new Deferred<Groups,Error>();\r\n            \r\n            this.groups((groups, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(groups);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n        \r\n\r\n        // Messages For User\r\n            \r\n        public messagesForUser(userPrincipalName: string, callback: (messages: Messages, error: Error) => void, odataQuery?: string): void {\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/messages\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n\r\n            this.getMessages(urlString, (result, error) => {\r\n                callback(result, error);\r\n            }, odataQuery);\r\n        }\r\n\r\n        public messagesForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<Messages, Error> {\r\n            var d = new Deferred<Messages,Error>();\r\n            this.messagesForUser(userPrincipalName, (messages, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(messages);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        // Calendar For User\r\n\r\n        public calendarForUser(userPrincipalName: string, callback: (events: CalendarEvent, error: Error) => void, odataQuery?: string): void {\r\n        // // To BE IMPLEMENTED\r\n        //    var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/calendar/events\";\r\n        //    if (odataQuery) urlString += \"?\" + odataQuery;\r\n\r\n        //    this.getMessages(urlString, (result, error) => {\r\n        //        callback(result, error);\r\n        //    }, odataQuery);\r\n        }\r\n\r\n        public calendarForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<CalendarEvents, Error> {\r\n            var d = new Deferred<CalendarEvents,Error>();\r\n            // // To BE IMPLEMENTED\r\n            //    this.calendarForUser(userPrincipalName, (events, error) => {\r\n            //        if (error) {\r\n            //            d.reject(error);\r\n            //        } else {\r\n            //            d.resolve(events);\r\n            //        }\r\n            //    }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        // Groups/Relationships For User\r\n        public memberOfForUser(userPrincipalName: string, callback: (groups: Kurve.Groups, error: Error) => void, odataQuery?: string) {\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/memberOf\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getGroups(urlString, callback, odataQuery);\r\n        }\r\n\r\n        public memberOfForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<Messages, Error> {\r\n            var d:any = new Deferred<Messages,Error>();\r\n            this.memberOfForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public managerForUser(userPrincipalName: string, callback: (manager: Kurve.User, error: Error) => void, odataQuery?: string) {\r\n            // need odataQuery;\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/manager\";\r\n            this.getUser(urlString, callback);\r\n        }\r\n\r\n        public managerForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<User, Error> {\r\n            var d = new Deferred<User,Error>();\r\n            this.managerForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public directReportsForUser(userPrincipalName: string, callback: (users: Kurve.Users, error: Error) => void, odataQuery?: string) {\r\n            // Need odata query\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/directReports\";\r\n            this.getUsers(urlString, callback);\r\n        }\r\n\r\n        public directReportsForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<Users, Error> {\r\n            var d = new Deferred<Users,Error>();\r\n            this.directReportsForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public profilePhotoForUser(userPrincipalName: string, callback: (photo: ProfilePhoto, error: Error) => void) {\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/photo\";\r\n            this.getPhoto(urlString, callback);\r\n        }\r\n\r\n        public profilePhotoForUserAsync(userPrincipalName: string): Promise<ProfilePhoto, Error> {\r\n            var d = new Deferred<ProfilePhoto,Error>();\r\n            \r\n            this.profilePhotoForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public profilePhotoValueForUser(userPrincipalName: string, callback: (photo: any, error: Error) => void) {\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/photo/$value\";\r\n            this.getPhotoValue(urlString, callback);\r\n        }\r\n\r\n        public profilePhotoValueForUserAsync(userPrincipalName: string): Promise<any, Error>{\r\n            var d = new Deferred<any,Error>();\r\n            this.profilePhotoValueForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n    \r\n        //http verbs\r\n        public getAsync(url: string): Promise<string, Error> {\r\n            var d = new Deferred<string,Error>();\r\n            this.get(url, (response, error) => {\r\n                if (!error) {\r\n                    d.resolve(response);\r\n                }\r\n                else {\r\n                    d.reject(error);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public get(url: string, callback: (response: string, error: Error) => void, responseType?: string): void {\r\n            var xhr = new XMLHttpRequest();\r\n            if (responseType)\r\n                xhr.responseType = responseType;\r\n            xhr.onreadystatechange = (() => {\r\n                if (xhr.readyState === 4 && xhr.status === 200) {\r\n                    if (!responseType)\r\n                        callback(xhr.responseText, null);\r\n                    else\r\n                        callback(xhr.response, null);\r\n                } else if (xhr.readyState === 4 && xhr.status !== 200) {\r\n                    callback(null, this.generateError(xhr));\r\n                }\r\n            });\r\n\r\n            xhr.open(\"GET\", url);\r\n            this.addAccessTokenAndSend(xhr, (addTokenError: Error) => {\r\n                if (addTokenError) {\r\n                    callback(null, addTokenError);\r\n                }\r\n            });\r\n        }\r\n\r\n        private generateError(xhr: XMLHttpRequest): Error {\r\n            var response = new Error();\r\n            response.status = xhr.status;\r\n            response.statusText = xhr.statusText;\r\n            if (xhr.responseType === '' || xhr.responseType === 'text')\r\n                response.text = xhr.responseText;\r\n            else\r\n                response.other = xhr.response;\r\n            return response;\r\n\r\n        }\r\n\r\n        //Private methods\r\n\r\n        private getUsers(urlString, callback: (users: Kurve.Users, error: Error) => void): void {\r\n            this.get(urlString, ((result: string, errorGet: Error) => {\r\n                \r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n\r\n                var usersODATA = JSON.parse(result);\r\n                if (usersODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = usersODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var resultsArray = (usersODATA.value ? usersODATA.value : [usersODATA]) as any[];\r\n                var users = new Kurve.Users(this, resultsArray.map(o => {\r\n                    return new User(this, o);\r\n                }));\r\n\r\n                //implement nextLink\r\n                var nextLink = usersODATA['@odata.nextLink'];\r\n\r\n                if (nextLink) {\r\n                    users.nextLink = ((callback?: (result: Users, error: Error) => void) => {\r\n                        var d = new Deferred<Users,Error>();\r\n                        this.getUsers(nextLink, ((result, error) => {\r\n                            if (callback)\r\n                                callback(result, error);\r\n                            else if (error) {\r\n                                d.reject(error);\r\n                            }\r\n                            else {\r\n                                d.resolve(result);\r\n                            }\r\n                        }));\r\n                        return d.promise;\r\n                    });\r\n                }\r\n\r\n                callback(users, null);\r\n            }));\r\n        }\r\n\r\n        private getUser(urlString, callback: (user: User, error: Error) => void): void {\r\n            this.get(urlString, (result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var userODATA = JSON.parse(result) ;\r\n                if (userODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = userODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var user = new User(this, userODATA);\r\n                callback(user, null);\r\n            });\r\n\r\n        }\r\n\r\n        private addAccessTokenAndSend(xhr: XMLHttpRequest, callback: (error: Error) => void): void {\r\n            if (this.accessToken) {\r\n                //Using default access token\r\n                xhr.setRequestHeader('Authorization', 'Bearer ' + this.accessToken);\r\n                xhr.send();\r\n            } else {\r\n                //Using the integrated Identity object\r\n                this.KurveIdentity.getAccessToken(this.defaultResourceID, ((token: string, error: Error) => {\r\n                    //cache the token\r\n                    \r\n                    if (error)\r\n                        callback(error);\r\n                    else {\r\n                        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\r\n                        xhr.send();\r\n                        callback(null);\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n\r\n        private getMessages(urlString: string, callback: (messages: Messages, error: Error) => void, odataQuery?: string): void {\r\n\r\n            var url = urlString;\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.get(url, ((result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n\r\n                var messagesODATA = JSON.parse(result);\r\n                if (messagesODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = messagesODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var resultsArray = (messagesODATA.value ? messagesODATA.value : [messagesODATA]) as any[];\r\n                var messages = new Kurve.Messages(this, resultsArray.map(o => {\r\n                    return new Message(this, o);\r\n                }));\r\n                if (messagesODATA['@odata.nextLink']) {\r\n                    messages.nextLink = (callback?: (messages: Messages, error: Error) => void, odataQuery?: string) => {\r\n                        var d = new Deferred<Messages,Error>();\r\n                        \r\n                        this.getMessages(messagesODATA['@odata.nextLink'], (messages, error) => {\r\n                            if (callback)\r\n                                callback(messages, error);\r\n                            else if (error) {\r\n                                d.reject(error);\r\n                            }\r\n                            else {\r\n                                d.resolve(messages);\r\n                            }\r\n                        }, odataQuery);\r\n                        return d.promise;\r\n\r\n                    };\r\n                }\r\n                callback(messages,  null);\r\n            }));\r\n        }\r\n\r\n        private getGroups(urlString: string, callback: (groups: Kurve.Groups, error: Error) => void, odataQuery?: string): void {\r\n\r\n            var url = urlString;\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.get(url, ((result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var groupsODATA = JSON.parse(result);\r\n                if (groupsODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = groupsODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var resultsArray = (groupsODATA.value ? groupsODATA.value : [groupsODATA]) as any[];\r\n                var groups = new Kurve.Groups(this, resultsArray.map(o => {\r\n                    return new Group(this, o);\r\n                }));\r\n\r\n                var nextLink = groupsODATA['@odata.nextLink'];\r\n\r\n                //implement nextLink\r\n                if (nextLink) {\r\n                    groups.nextLink = ((callback?: (result: Groups, error: Error) => void) => {\r\n                        var d = new Deferred<Groups,Error>();\r\n                        this.getGroups(nextLink, ((result, error) => {\r\n                            if (callback)\r\n                                callback(result, error);\r\n                            else if (error) {\r\n                                d.reject(error);\r\n                            }\r\n                            else {\r\n                                d.resolve(result);\r\n                            }\r\n                        }));\r\n                        return d.promise;\r\n                    });\r\n                }\r\n\r\n                callback(groups, null);\r\n            }));\r\n        }\r\n\r\n        private getGroup(urlString, callback: (group: Kurve.Group, error: Error) => void): void {\r\n            this.get(urlString, (result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var ODATA = JSON.parse(result);\r\n                if (ODATA.error) {\r\n                    var ODATAError = new Error();\r\n                    ODATAError.other = ODATA.error;\r\n                    callback(null, ODATAError);\r\n                    return;\r\n                }\r\n                var group = new Kurve.Group(this, ODATA);\r\n\r\n                callback(group, null);\r\n            });\r\n\r\n        }\r\n\r\n        private getPhoto(urlString, callback: (photo: ProfilePhoto, error: Error) => void): void {\r\n            this.get(urlString, (result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var ODATA = JSON.parse(result);\r\n                if (ODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = ODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n                var photo = new ProfilePhoto(this, ODATA);\r\n\r\n                callback(photo, null);\r\n            });\r\n        }\r\n\r\n        private getPhotoValue(urlString, callback: (photo: any, error: Error) => void): void {\r\n            this.get(urlString, (result: any, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                callback(result, null);\r\n            }, \"blob\");\r\n        }\r\n        private buildMeUrl(): string {\r\n            return this.baseUrl + \"me\";\r\n        }\r\n        private buildUsersUrl(): string {\r\n            return this.baseUrl + \"/users\";\r\n        }\r\n        private buildGroupsUrl(): string {\r\n            return this.baseUrl + \"/groups\";\r\n        }\r\n    }\r\n}\r\n\r\n//*********************************************************   \r\n//   \r\n//Kurve js, https://github.com/microsoftdx/kurvejs\r\n//  \r\n//Copyright (c) Microsoft Corporation  \r\n//All rights reserved.   \r\n//  \r\n// MIT License:  \r\n// Permission is hereby granted, free of charge, to any person obtaining  \r\n// a copy of this software and associated documentation files (the  \r\n// \"\"Software\"\"), to deal in the Software without restriction, including  \r\n// without limitation the rights to use, copy, modify, merge, publish,  \r\n// distribute, sublicense, and/or sell copies of the Software, and to  \r\n// permit persons to whom the Software is furnished to do so, subject to  \r\n// the following conditions:  \r\n\r\n\r\n\r\n\r\n// The above copyright notice and this permission notice shall be  \r\n// included in all copies or substantial portions of the Software.  \r\n\r\n\r\n\r\n\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,  \r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  \r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  \r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE  \r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION  \r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  \r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  \r\n//   \r\n//*********************************************************   \r\n"],"sourceRoot":"/source/"}