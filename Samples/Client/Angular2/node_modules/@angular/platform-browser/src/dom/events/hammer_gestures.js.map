{"version":3,"file":"hammer_gestures.js","sourceRoot":"","sources":["../../../../../../modules/@angular/platform-browser/src/dom/events/hammer_gestures.ts"],"names":[],"mappings":"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","sourcesContent":["import {Inject, Injectable, OpaqueToken} from '@angular/core';\n\nimport {BaseException} from '../../facade/exceptions';\nimport {isPresent} from '../../facade/lang';\n\nimport {HammerGesturesPluginCommon} from './hammer_common';\n\nexport const HAMMER_GESTURE_CONFIG: OpaqueToken = new OpaqueToken('HammerGestureConfig');\n\nexport interface HammerInstance {\n  on(eventName: string, callback: Function): void;\n  off(eventName: string, callback: Function): void;\n}\nexport class HammerGestureConfig {\n  events: string[] = [];\n\n  overrides: {[key: string]: Object} = {};\n\n  buildHammer(element: HTMLElement): HammerInstance {\n    var mc = new Hammer(element);\n\n    mc.get('pinch').set({enable: true});\n    mc.get('rotate').set({enable: true});\n\n    for (let eventName in this.overrides) {\n      mc.get(eventName).set(this.overrides[eventName]);\n    }\n\n    return mc;\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n}\nexport class HammerGesturesPlugin extends HammerGesturesPluginCommon {\n  constructor( private _config: HammerGestureConfig) { super(); }\n\n  supports(eventName: string): boolean {\n    if (!super.supports(eventName) && !this.isCustomEvent(eventName)) return false;\n\n    if (!isPresent((window as any /** TODO #???? */)['Hammer'])) {\n      throw new BaseException(`Hammer.js is not loaded, can not bind ${eventName} event`);\n    }\n\n    return true;\n  }\n\n  addEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    var zone = this.manager.getZone();\n    eventName = eventName.toLowerCase();\n\n    return zone.runOutsideAngular(() => {\n      // Creating the manager bind events, must be done outside of angular\n      var mc = this._config.buildHammer(element);\n      var callback = function(eventObj: any /** TODO #???? */) {\n        zone.runGuarded(function() { handler(eventObj); });\n      };\n      mc.on(eventName, callback);\n      return () => { mc.off(eventName, callback); };\n    });\n  }\n\n  isCustomEvent(eventName: string): boolean { return this._config.events.indexOf(eventName) > -1; }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: HammerGestureConfig, decorators: [{ type: Inject, args: [HAMMER_GESTURE_CONFIG, ] }, ]},\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}