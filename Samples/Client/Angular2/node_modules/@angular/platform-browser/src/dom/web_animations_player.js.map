{"version":3,"file":"web_animations_player.js","sourceRoot":"","sources":["../../../../../modules/@angular/platform-browser/src/dom/web_animations_player.ts"],"names":[],"mappings":";AACA,qBAAwB,gBAAgB,CAAC,CAAA;AAIzC;IAKE,6BAAoB,OAAyB,EAAS,SAAiB;QALzE,iBAgDC;QA3CqB,YAAO,GAAP,OAAO,CAAkB;QAAS,cAAS,GAAT,SAAS,CAAQ;QAJ/D,mBAAc,GAAe,EAAE,CAAC;QAChC,cAAS,GAAG,KAAK,CAAC;QACnB,iBAAY,GAAoB,IAAI,CAAC;QAG1C,gEAAgE;QAChE,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,cAAM,OAAA,KAAI,CAAC,SAAS,EAAE,EAAhB,CAAgB,CAAC;IACjD,CAAC;IAEO,uCAAS,GAAjB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,EAAE,CAAC,CAAC,CAAC,gBAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAA,EAAE,IAAI,OAAA,EAAE,EAAE,EAAJ,CAAI,CAAC,CAAC;YACxC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,oCAAM,GAAN,UAAO,EAAY,IAAU,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAE5D,kCAAI,GAAJ,cAAe,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IAErC,mCAAK,GAAL,cAAgB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAEvC,oCAAM,GAAN;QACE,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IACxB,CAAC;IAED,mCAAK,GAAL,cAAgB,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IAExC,qCAAO,GAAP;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,qCAAO,GAAP;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,yCAAW,GAAX,UAAY,CAAM,CAAC,iBAAiB,IAAU,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IAE9F,yCAAW,GAAX,cAAwB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IAC7E,0BAAC;AAAD,CAAC,AAhDD,IAgDC;AAhDY,2BAAmB,sBAgD/B,CAAA","sourcesContent":["import {AnimationPlayer} from '../../core_private';\nimport {isPresent} from '../facade/lang';\n\nimport {DomAnimatePlayer} from './dom_animate_player';\n\nexport class WebAnimationsPlayer implements AnimationPlayer {\n  private _subscriptions: Function[] = [];\n  private _finished = false;\n  public parentPlayer: AnimationPlayer = null;\n\n  constructor(private _player: DomAnimatePlayer, public totalTime: number) {\n    // this is required to make the player startable at a later time\n    this.reset();\n    this._player.onfinish = () => this._onFinish();\n  }\n\n  private _onFinish() {\n    if (!this._finished) {\n      this._finished = true;\n      if (!isPresent(this.parentPlayer)) {\n        this.destroy();\n      }\n      this._subscriptions.forEach(fn => fn());\n      this._subscriptions = [];\n    }\n  }\n\n  onDone(fn: Function): void { this._subscriptions.push(fn); }\n\n  play(): void { this._player.play(); }\n\n  pause(): void { this._player.pause(); }\n\n  finish(): void {\n    this._onFinish();\n    this._player.finish();\n  }\n\n  reset(): void { this._player.cancel(); }\n\n  restart(): void {\n    this.reset();\n    this.play();\n  }\n\n  destroy(): void {\n    this.reset();\n    this._onFinish();\n  }\n\n  setPosition(p: any /** TODO #9100 */): void { this._player.currentTime = p * this.totalTime; }\n\n  getPosition(): number { return this._player.currentTime / this.totalTime; }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}