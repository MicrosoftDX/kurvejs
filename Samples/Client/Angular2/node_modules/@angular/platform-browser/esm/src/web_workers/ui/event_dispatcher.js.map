{"version":3,"file":"event_dispatcher.js","sourceRoot":"","sources":["../../../../../../../modules/@angular/platform-browser/src/web_workers/ui/event_dispatcher.ts"],"names":[],"mappings":"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","sourcesContent":["import {EventEmitter, ObservableWrapper} from '../../facade/async';\nimport {BaseException} from '../../facade/exceptions';\nimport {RenderStoreObject, Serializer} from '../shared/serializer';\n\nimport {serializeEventWithTarget, serializeGenericEvent, serializeKeyboardEvent, serializeMouseEvent, serializeTransitionEvent} from './event_serializer';\n\nexport class EventDispatcher {\n  constructor(private _sink: EventEmitter<any>, private _serializer: Serializer) {}\n\n  dispatchRenderEvent(element: any, eventTarget: string, eventName: string, event: any): boolean {\n    var serializedEvent: any /** TODO #9100 */;\n    // TODO (jteplitz602): support custom events #3350\n    switch (event.type) {\n      case 'click':\n      case 'mouseup':\n      case 'mousedown':\n      case 'dblclick':\n      case 'contextmenu':\n      case 'mouseenter':\n      case 'mouseleave':\n      case 'mousemove':\n      case 'mouseout':\n      case 'mouseover':\n      case 'show':\n        serializedEvent = serializeMouseEvent(event);\n        break;\n      case 'keydown':\n      case 'keypress':\n      case 'keyup':\n        serializedEvent = serializeKeyboardEvent(event);\n        break;\n      case 'input':\n      case 'change':\n      case 'blur':\n        serializedEvent = serializeEventWithTarget(event);\n        break;\n      case 'abort':\n      case 'afterprint':\n      case 'beforeprint':\n      case 'cached':\n      case 'canplay':\n      case 'canplaythrough':\n      case 'chargingchange':\n      case 'chargingtimechange':\n      case 'close':\n      case 'dischargingtimechange':\n      case 'DOMContentLoaded':\n      case 'downloading':\n      case 'durationchange':\n      case 'emptied':\n      case 'ended':\n      case 'error':\n      case 'fullscreenchange':\n      case 'fullscreenerror':\n      case 'invalid':\n      case 'languagechange':\n      case 'levelfchange':\n      case 'loadeddata':\n      case 'loadedmetadata':\n      case 'obsolete':\n      case 'offline':\n      case 'online':\n      case 'open':\n      case 'orientatoinchange':\n      case 'pause':\n      case 'pointerlockchange':\n      case 'pointerlockerror':\n      case 'play':\n      case 'playing':\n      case 'ratechange':\n      case 'readystatechange':\n      case 'reset':\n      case 'scroll':\n      case 'seeked':\n      case 'seeking':\n      case 'stalled':\n      case 'submit':\n      case 'success':\n      case 'suspend':\n      case 'timeupdate':\n      case 'updateready':\n      case 'visibilitychange':\n      case 'volumechange':\n      case 'waiting':\n        serializedEvent = serializeGenericEvent(event);\n        break;\n      case 'transitionend':\n        serializedEvent = serializeTransitionEvent(event);\n        break;\n      default:\n        throw new BaseException(eventName + ' not supported on WebWorkers');\n    }\n    ObservableWrapper.callEmit(this._sink, {\n      'element': this._serializer.serialize(element, RenderStoreObject),\n      'eventName': eventName,\n      'eventTarget': eventTarget,\n      'event': serializedEvent\n    });\n\n    // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n    // should be canceled, but for now just call `preventDefault` on the original DOM event.\n    return false;\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}