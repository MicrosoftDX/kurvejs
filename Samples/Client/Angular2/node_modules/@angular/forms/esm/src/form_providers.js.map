{"version":3,"file":"form_providers.js","sourceRoot":"","sources":["../../../../../modules/@angular/forms/src/form_providers.ts"],"names":[],"mappings":"OACO,EAAoB,eAAe,IAAI,mBAAmB,EAAuC,MAAM,iBAAiB;OACxH,EAAC,cAAc,EAAC,MAAM,mBAAmB;OACzC,EAAC,mBAAmB,EAAE,cAAc,EAAO,MAAM,eAAe;OAEhE,EAAC,eAAe,IAAI,mBAAmB,EAAC,MAAM,cAAc;OAC5D,EAAC,oBAAoB,IAAI,uBAAuB,EAAC,MAAM,2CAA2C;OAClG,EAAC,WAAW,EAAC,MAAM,qBAAqB;OACxC,EAAC,WAAW,IAAI,cAAc,EAAC,MAAM,gBAAgB;AAI5D;;;;;;;;;;GAUG;AACH,OAAO,MAAM,cAAc,GAA6B,CAAC,cAAc,EAAE,uBAAuB,CAAC,CAAC;AAElG,iBAAiB,kBAAyB;IACxC,IAAI,mBAAmB,GAAU,EAAE,CAAC;IACpC,kBAAkB,CAAC,OAAO,CAAC,CAAC,UAAU;QACpC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,mBAAmB,GAAG,mBAAmB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAC/D,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACvC,CAAC;IACH,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,mBAAmB,CAAC;AAC7B,CAAC;AAED;IACE,MAAM,CAAC,CAAC;YACN,OAAO,EAAE,cAAc;YACvB,UAAU,EAAE,CAAC,kBAAyB,EAAE,aAAoB;gBAC1D,MAAM,mBAAmB,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;gBACxD,WAAW,CAAC,MAAM,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,CAAC;gBAC7D,MAAM,CAAC,IAAI,cAAc,CAAC,EAAC,kBAAkB,EAAE,mBAAmB,EAAE,aAAa,EAAC,CAAC,CAAC;YACtF,CAAC;YACD,IAAI,EAAE,CAAC,mBAAmB,EAAE,cAAc,CAAC;SAC5C,CAAC,CAAC;AACL,CAAC;AAED;IACE,MAAM,CAAC;QACL,EAAC,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,mBAAmB,EAAE,KAAK,EAAE,IAAI,EAAC,EAAE,cAAc;KAC3F,CAAC;AACJ,CAAC","sourcesContent":["\nimport {COMMON_DIRECTIVES, FORM_DIRECTIVES as OLD_FORM_DIRECTIVES, FORM_PROVIDERS as OLD_FORM_PROVIDERS} from '@angular/common';\nimport {CompilerConfig} from '@angular/compiler';\nimport {PLATFORM_DIRECTIVES, PLATFORM_PIPES, Type} from '@angular/core';\n\nimport {FORM_DIRECTIVES as NEW_FORM_DIRECTIVES} from './directives';\nimport {RadioControlRegistry as NewRadioControlRegistry} from './directives/radio_control_value_accessor';\nimport {ListWrapper} from './facade/collection';\nimport {FormBuilder as NewFormBuilder} from './form_builder';\n\n\n\n/*\n * Shorthand set of providers used for building Angular forms.\n *\n * ### Example\n *\n * ```typescript\n * bootstrap(MyApp, [FORM_PROVIDERS]);\n * ```\n *\n * @experimental\n */\nexport const FORM_PROVIDERS: Type[] = /*@ts2dart_const*/[NewFormBuilder, NewRadioControlRegistry];\n\nfunction flatten(platformDirectives: any[]): any[] {\n  let flattenedDirectives: any[] = [];\n  platformDirectives.forEach((directives) => {\n    if (Array.isArray(directives)) {\n      flattenedDirectives = flattenedDirectives.concat(directives);\n    } else {\n      flattenedDirectives.push(directives);\n    }\n  });\n  return flattenedDirectives;\n}\n\nexport function disableDeprecatedForms(): any[] {\n  return [{\n    provide: CompilerConfig,\n    useFactory: (platformDirectives: any[], platformPipes: any[]) => {\n      const flattenedDirectives = flatten(platformDirectives);\n      ListWrapper.remove(flattenedDirectives, OLD_FORM_DIRECTIVES);\n      return new CompilerConfig({platformDirectives: flattenedDirectives, platformPipes});\n    },\n    deps: [PLATFORM_DIRECTIVES, PLATFORM_PIPES]\n  }];\n}\n\nexport function provideForms(): any[] {\n  return [\n    {provide: PLATFORM_DIRECTIVES, useValue: NEW_FORM_DIRECTIVES, multi: true}, FORM_PROVIDERS\n  ];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}