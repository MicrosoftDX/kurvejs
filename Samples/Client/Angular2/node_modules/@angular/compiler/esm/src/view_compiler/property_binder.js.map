{"version":3,"file":"property_binder.js","sourceRoot":"","sources":["../../../../../../modules/@angular/compiler/src/view_compiler/property_binder.ts"],"names":[],"mappings":"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","sourcesContent":["import {EMPTY_STATE as EMPTY_ANIMATION_STATE, LifecycleHooks, SecurityContext, isDefaultChangeDetectionStrategy} from '../../core_private';\nimport * as cdAst from '../expression_parser/ast';\nimport {isBlank, isPresent} from '../facade/lang';\nimport {Identifiers} from '../identifiers';\nimport * as o from '../output/output_ast';\n\nimport {DetectChangesVars, ViewProperties} from './constants';\n\nimport {BoundTextAst, BoundElementPropertyAst, DirectiveAst, PropertyBindingType,} from '../template_ast';\n\nimport {CompileView} from './compile_view';\nimport {CompileElement, CompileNode} from './compile_element';\nimport {CompileMethod} from './compile_method';\n\nimport {camelCaseToDashCase} from '../util';\n\nimport {convertCdExpressionToIr} from './expression_converter';\n\nimport {CompileBinding} from './compile_binding';\nimport {BaseException} from '@angular/core';\n\n\nfunction createBindFieldExpr(exprIndex: number): o.ReadPropExpr {\n  return o.THIS_EXPR.prop(`_expr_${exprIndex}`);\n}\n\nfunction createCurrValueExpr(exprIndex: number): o.ReadVarExpr {\n  return o.variable(`currVal_${exprIndex}`);  // fix syntax highlighting: `\n}\n\nfunction bind(\n    view: CompileView, currValExpr: o.ReadVarExpr, fieldExpr: o.ReadPropExpr,\n    parsedExpression: cdAst.AST, context: o.Expression, actions: o.Statement[],\n    method: CompileMethod) {\n  var checkExpression =\n      convertCdExpressionToIr(view, context, parsedExpression, DetectChangesVars.valUnwrapper);\n  if (isBlank(checkExpression.expression)) {\n    // e.g. an empty expression was given\n    return;\n  }\n\n  // private is fine here as no child view will reference the cached value...\n  view.fields.push(new o.ClassField(fieldExpr.name, null, [o.StmtModifier.Private]));\n  view.createMethod.addStmt(\n      o.THIS_EXPR.prop(fieldExpr.name).set(o.importExpr(Identifiers.uninitialized)).toStmt());\n\n  if (checkExpression.needsValueUnwrapper) {\n    var initValueUnwrapperStmt = DetectChangesVars.valUnwrapper.callMethod('reset', []).toStmt();\n    method.addStmt(initValueUnwrapperStmt);\n  }\n  method.addStmt(\n      currValExpr.set(checkExpression.expression).toDeclStmt(null, [o.StmtModifier.Final]));\n\n  var condition: o.Expression = o.importExpr(Identifiers.checkBinding).callFn([\n    DetectChangesVars.throwOnChange, fieldExpr, currValExpr\n  ]);\n  if (checkExpression.needsValueUnwrapper) {\n    condition = DetectChangesVars.valUnwrapper.prop('hasWrappedValue').or(condition);\n  }\n  method.addStmt(new o.IfStmt(\n      condition,\n      actions.concat([<o.Statement>o.THIS_EXPR.prop(fieldExpr.name).set(currValExpr).toStmt()])));\n}\n\nexport function bindRenderText(\n    boundText: BoundTextAst, compileNode: CompileNode, view: CompileView) {\n  var bindingIndex = view.bindings.length;\n  view.bindings.push(new CompileBinding(compileNode, boundText));\n  var currValExpr = createCurrValueExpr(bindingIndex);\n  var valueField = createBindFieldExpr(bindingIndex);\n  view.detectChangesRenderPropertiesMethod.resetDebugInfo(compileNode.nodeIndex, boundText);\n\n  bind(\n      view, currValExpr, valueField, boundText.value, view.componentContext,\n      [o.THIS_EXPR.prop('renderer')\n           .callMethod('setText', [compileNode.renderNode, currValExpr])\n           .toStmt()],\n      view.detectChangesRenderPropertiesMethod);\n}\n\nfunction bindAndWriteToRenderer(\n    boundProps: BoundElementPropertyAst[], context: o.Expression, compileElement: CompileElement) {\n  var view = compileElement.view;\n  var renderNode = compileElement.renderNode;\n  boundProps.forEach((boundProp) => {\n    var bindingIndex = view.bindings.length;\n    view.bindings.push(new CompileBinding(compileElement, boundProp));\n    view.detectChangesRenderPropertiesMethod.resetDebugInfo(compileElement.nodeIndex, boundProp);\n    var fieldExpr = createBindFieldExpr(bindingIndex);\n    var currValExpr = createCurrValueExpr(bindingIndex);\n    var renderMethod: string;\n    var oldRenderValue: o.Expression = sanitizedValue(boundProp, fieldExpr);\n    var renderValue: o.Expression = sanitizedValue(boundProp, currValExpr);\n    var updateStmts: any[] /** TODO #9100 */ = [];\n    switch (boundProp.type) {\n      case PropertyBindingType.Property:\n        if (view.genConfig.logBindingUpdate) {\n          updateStmts.push(logBindingUpdateStmt(renderNode, boundProp.name, renderValue));\n        }\n        updateStmts.push(\n            o.THIS_EXPR.prop('renderer')\n                .callMethod(\n                    'setElementProperty', [renderNode, o.literal(boundProp.name), renderValue])\n                .toStmt());\n        break;\n      case PropertyBindingType.Attribute:\n        renderValue =\n            renderValue.isBlank().conditional(o.NULL_EXPR, renderValue.callMethod('toString', []));\n        updateStmts.push(\n            o.THIS_EXPR.prop('renderer')\n                .callMethod(\n                    'setElementAttribute', [renderNode, o.literal(boundProp.name), renderValue])\n                .toStmt());\n        break;\n      case PropertyBindingType.Class:\n        updateStmts.push(\n            o.THIS_EXPR.prop('renderer')\n                .callMethod('setElementClass', [renderNode, o.literal(boundProp.name), renderValue])\n                .toStmt());\n        break;\n      case PropertyBindingType.Style:\n        var strValue: o.Expression = renderValue.callMethod('toString', []);\n        if (isPresent(boundProp.unit)) {\n          strValue = strValue.plus(o.literal(boundProp.unit));\n        }\n        renderValue = renderValue.isBlank().conditional(o.NULL_EXPR, strValue);\n        updateStmts.push(\n            o.THIS_EXPR.prop('renderer')\n                .callMethod('setElementStyle', [renderNode, o.literal(boundProp.name), renderValue])\n                .toStmt());\n        break;\n      case PropertyBindingType.Animation:\n        var animationName = boundProp.name;\n        var animation = view.componentView.animations.get(animationName);\n        if (!isPresent(animation)) {\n          throw new BaseException(\n              `Internal Error: couldn't find an animation entry for ${boundProp.name}`);\n        }\n\n        // it's important to normalize the void value as `void` explicitly\n        // so that the styles data can be obtained from the stringmap\n        var emptyStateValue = o.literal(EMPTY_ANIMATION_STATE);\n\n        // void => ...\n        var oldRenderVar = o.variable('oldRenderVar');\n        updateStmts.push(oldRenderVar.set(oldRenderValue).toDeclStmt());\n        updateStmts.push(new o.IfStmt(\n            oldRenderVar.equals(o.importExpr(Identifiers.uninitialized)),\n            [oldRenderVar.set(emptyStateValue).toStmt()]));\n\n        // ... => void\n        var newRenderVar = o.variable('newRenderVar');\n        updateStmts.push(newRenderVar.set(renderValue).toDeclStmt());\n        updateStmts.push(new o.IfStmt(\n            newRenderVar.equals(o.importExpr(Identifiers.uninitialized)),\n            [newRenderVar.set(emptyStateValue).toStmt()]));\n\n        updateStmts.push(\n            animation.fnVariable.callFn([o.THIS_EXPR, renderNode, oldRenderVar, newRenderVar])\n                .toStmt());\n\n        view.detachMethod.addStmt(\n            animation.fnVariable.callFn([o.THIS_EXPR, renderNode, oldRenderValue, emptyStateValue])\n                .toStmt());\n\n        break;\n    }\n\n    bind(\n        view, currValExpr, fieldExpr, boundProp.value, context, updateStmts,\n        view.detectChangesRenderPropertiesMethod);\n  });\n}\n\nfunction sanitizedValue(\n    boundProp: BoundElementPropertyAst, renderValue: o.Expression): o.Expression {\n  let enumValue: string;\n  switch (boundProp.securityContext) {\n    case SecurityContext.NONE:\n      return renderValue;  // No sanitization needed.\n    case SecurityContext.HTML:\n      enumValue = 'HTML';\n      break;\n    case SecurityContext.STYLE:\n      enumValue = 'STYLE';\n      break;\n    case SecurityContext.SCRIPT:\n      enumValue = 'SCRIPT';\n      break;\n    case SecurityContext.URL:\n      enumValue = 'URL';\n      break;\n    case SecurityContext.RESOURCE_URL:\n      enumValue = 'RESOURCE_URL';\n      break;\n    default:\n      throw new Error(`internal error, unexpected SecurityContext ${boundProp.securityContext}.`);\n  }\n  let ctx = ViewProperties.viewUtils.prop('sanitizer');\n  let args = [o.importExpr(Identifiers.SecurityContext).prop(enumValue), renderValue];\n  return ctx.callMethod('sanitize', args);\n}\n\nexport function bindRenderInputs(\n    boundProps: BoundElementPropertyAst[], compileElement: CompileElement): void {\n  bindAndWriteToRenderer(boundProps, compileElement.view.componentContext, compileElement);\n}\n\nexport function bindDirectiveHostProps(\n    directiveAst: DirectiveAst, directiveInstance: o.Expression,\n    compileElement: CompileElement): void {\n  bindAndWriteToRenderer(directiveAst.hostProperties, directiveInstance, compileElement);\n}\n\nexport function bindDirectiveInputs(\n    directiveAst: DirectiveAst, directiveInstance: o.Expression, compileElement: CompileElement) {\n  if (directiveAst.inputs.length === 0) {\n    return;\n  }\n  var view = compileElement.view;\n  var detectChangesInInputsMethod = view.detectChangesInInputsMethod;\n  detectChangesInInputsMethod.resetDebugInfo(compileElement.nodeIndex, compileElement.sourceAst);\n\n  var lifecycleHooks = directiveAst.directive.lifecycleHooks;\n  var calcChangesMap = lifecycleHooks.indexOf(LifecycleHooks.OnChanges) !== -1;\n  var isOnPushComp = directiveAst.directive.isComponent &&\n      !isDefaultChangeDetectionStrategy(directiveAst.directive.changeDetection);\n  if (calcChangesMap) {\n    detectChangesInInputsMethod.addStmt(DetectChangesVars.changes.set(o.NULL_EXPR).toStmt());\n  }\n  if (isOnPushComp) {\n    detectChangesInInputsMethod.addStmt(DetectChangesVars.changed.set(o.literal(false)).toStmt());\n  }\n  directiveAst.inputs.forEach((input) => {\n    var bindingIndex = view.bindings.length;\n    view.bindings.push(new CompileBinding(compileElement, input));\n    detectChangesInInputsMethod.resetDebugInfo(compileElement.nodeIndex, input);\n    var fieldExpr = createBindFieldExpr(bindingIndex);\n    var currValExpr = createCurrValueExpr(bindingIndex);\n    var statements: o.Statement[] =\n        [directiveInstance.prop(input.directiveName).set(currValExpr).toStmt()];\n    if (calcChangesMap) {\n      statements.push(new o.IfStmt(\n          DetectChangesVars.changes.identical(o.NULL_EXPR),\n          [DetectChangesVars.changes\n               .set(o.literalMap([], new o.MapType(o.importType(Identifiers.SimpleChange))))\n               .toStmt()]));\n      statements.push(\n          DetectChangesVars.changes.key(o.literal(input.directiveName))\n              .set(o.importExpr(Identifiers.SimpleChange).instantiate([fieldExpr, currValExpr]))\n              .toStmt());\n    }\n    if (isOnPushComp) {\n      statements.push(DetectChangesVars.changed.set(o.literal(true)).toStmt());\n    }\n    if (view.genConfig.logBindingUpdate) {\n      statements.push(\n          logBindingUpdateStmt(compileElement.renderNode, input.directiveName, currValExpr));\n    }\n    bind(\n        view, currValExpr, fieldExpr, input.value, view.componentContext, statements,\n        detectChangesInInputsMethod);\n  });\n  if (isOnPushComp) {\n    detectChangesInInputsMethod.addStmt(new o.IfStmt(DetectChangesVars.changed, [\n      compileElement.appElement.prop('componentView').callMethod('markAsCheckOnce', []).toStmt()\n    ]));\n  }\n}\n\nfunction logBindingUpdateStmt(\n    renderNode: o.Expression, propName: string, value: o.Expression): o.Statement {\n  return o.THIS_EXPR.prop('renderer')\n      .callMethod(\n          'setBindingDebugInfo',\n          [\n            renderNode, o.literal(`ng-reflect-${camelCaseToDashCase(propName)}`),\n            value.isBlank().conditional(o.NULL_EXPR, value.callMethod('toString', []))\n          ])\n      .toStmt();\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}