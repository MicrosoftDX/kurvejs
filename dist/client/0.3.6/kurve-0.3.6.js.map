{"version":3,"sources":["promises.ts","KurveIdentity.ts","KurveGraph.ts"],"names":["Kurve","Kurve.DispatchDeferred","Kurve.PromiseState","Kurve.Client","Kurve.Client.constructor","Kurve.Client.resolve","Kurve.Client.reject","Kurve.Client._dispatchCallback","Kurve.Deferred","Kurve.Deferred.constructor","Kurve.Deferred.DispatchDeferred","Kurve.Deferred.then","Kurve.Deferred.resolve","Kurve.Deferred._resolve","Kurve.Deferred.reject","Kurve.Deferred._reject","Kurve.Promise","Kurve.Promise.constructor","Kurve.Promise.then","Kurve.Promise.fail","Kurve.OAuthVersion","Kurve.Error","Kurve.Error.constructor","Kurve.Token","Kurve.Token.constructor","Kurve.IdToken","Kurve.IdToken.constructor","Kurve.Identity","Kurve.Identity.constructor","Kurve.Identity.checkForIdentityRedirect","Kurve.Identity.checkForIdentityRedirect.token","Kurve.Identity.checkForIdentityRedirect.parseQueryString","Kurve.Identity.decodeIdToken","Kurve.Identity.decodeAccessToken","Kurve.Identity.getIdToken","Kurve.Identity.isLoggedIn","Kurve.Identity.renewIdToken","Kurve.Identity.getCurrentOauthVersion","Kurve.Identity.getAccessTokenAsync","Kurve.Identity.getAccessToken","Kurve.Identity.getAccessTokenForScopesAsync","Kurve.Identity.getAccessTokenForScopes","Kurve.Identity.loginAsync","Kurve.Identity.login","Kurve.Identity.loginNoWindowAsync","Kurve.Identity.loginNoWindow","Kurve.Identity.logOut","Kurve.Identity.base64Decode","Kurve.Identity.generateNonce","Kurve.Scopes","Kurve.Scopes.Util","Kurve.Scopes.Util.constructor","Kurve.Scopes.General","Kurve.Scopes.General.constructor","Kurve.Scopes.User","Kurve.Scopes.User.constructor","Kurve.Scopes.Contacts","Kurve.Scopes.Contacts.constructor","Kurve.Scopes.Directory","Kurve.Scopes.Directory.constructor","Kurve.Scopes.Group","Kurve.Scopes.Group.constructor","Kurve.Scopes.Mail","Kurve.Scopes.Mail.constructor","Kurve.Scopes.Calendars","Kurve.Scopes.Calendars.constructor","Kurve.Scopes.Files","Kurve.Scopes.Files.constructor","Kurve.Scopes.Tasks","Kurve.Scopes.Tasks.constructor","Kurve.Scopes.People","Kurve.Scopes.People.constructor","Kurve.Scopes.Notes","Kurve.Scopes.Notes.constructor","Kurve.ProfilePhotoDataModel","Kurve.ProfilePhotoDataModel.constructor","Kurve.ProfilePhoto","Kurve.ProfilePhoto.constructor","Kurve.ProfilePhoto.data","Kurve.UserDataModel","Kurve.UserDataModel.constructor","Kurve.User","Kurve.User.constructor","Kurve.User.data","Kurve.User.memberOf","Kurve.User.memberOfAsync","Kurve.User.messages","Kurve.User.messagesAsync","Kurve.User.manager","Kurve.User.managerAsync","Kurve.User.profilePhoto","Kurve.User.profilePhotoAsync","Kurve.User.profilePhotoValue","Kurve.User.profilePhotoValueAsync","Kurve.User.calendar","Kurve.User.calendarAsync","Kurve.Users","Kurve.Users.constructor","Kurve.Users.data","Kurve.MessageDataModel","Kurve.MessageDataModel.constructor","Kurve.Message","Kurve.Message.constructor","Kurve.Message.data","Kurve.Messages","Kurve.Messages.constructor","Kurve.Messages.data","Kurve.CalendarEvent","Kurve.CalendarEvent.constructor","Kurve.CalendarEvents","Kurve.CalendarEvents.constructor","Kurve.CalendarEvents.data","Kurve.Contact","Kurve.Contact.constructor","Kurve.GroupDataModel","Kurve.GroupDataModel.constructor","Kurve.Group","Kurve.Group.constructor","Kurve.Group.data","Kurve.Groups","Kurve.Groups.constructor","Kurve.Groups.data","Kurve.Graph","Kurve.Graph.constructor","Kurve.Graph.scopesForV2","Kurve.Graph.meAsync","Kurve.Graph.me","Kurve.Graph.userAsync","Kurve.Graph.user","Kurve.Graph.usersAsync","Kurve.Graph.users","Kurve.Graph.groupAsync","Kurve.Graph.group","Kurve.Graph.groupsAsync","Kurve.Graph.groups","Kurve.Graph.messagesForUserAsync","Kurve.Graph.messagesForUser","Kurve.Graph.calendarForUser","Kurve.Graph.calendarForUserAsync","Kurve.Graph.memberOfForUserAsync","Kurve.Graph.memberOfForUser","Kurve.Graph.managerForUserAsync","Kurve.Graph.managerForUser","Kurve.Graph.directReportsForUserAsync","Kurve.Graph.directReportsForUser","Kurve.Graph.profilePhotoForUserAsync","Kurve.Graph.profilePhotoForUser","Kurve.Graph.profilePhotoValueForUserAsync","Kurve.Graph.profilePhotoValueForUser","Kurve.Graph.getAsync","Kurve.Graph.get","Kurve.Graph.generateError","Kurve.Graph.getUsers","Kurve.Graph.getUser","Kurve.Graph.addAccessTokenAndSend","Kurve.Graph.getMessages","Kurve.Graph.getGroups","Kurve.Graph.getGroup","Kurve.Graph.getPhoto","Kurve.Graph.getPhotoValue","Kurve.Graph.buildMeUrl","Kurve.Graph.buildUsersUrl","Kurve.Graph.buildGroupsUrl"],"mappings":"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AACA,GAAGA,EAAEA,EAAEA,CAACA,GAAGA,MAAMA,CAACA,YAAYA,EAAEA,CAACA,GAAGA,aAAaA,CAACA,MAAMA,CAACA;YAClIA,IAAIA,CAACA,GAAGA,kEAAkEA,CAACA;YAC3EA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA;YAACA,CAACA;YAChDA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACrBA,CAACA,GAAGA,CAACA,CAACA,aAAaA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAC/BA,CAACA,GAAGA,CAACA,CAACA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;gBACjBA,CAACA,IAAIA,CAACA,CAACA;gBACPA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA;oBACZA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;gBACpEA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,CAACA,CAACA;QACbA,CAACA;QAEOpB,gCAAaA,GAArBA;YACIqB,IAAIA,IAAIA,GAAGA,EAAEA,CAACA;YACdA,IAAIA,KAAKA,GAAGA,gEAAgEA,CAACA;YAC7EA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBAC1BA,IAAIA,IAAIA,KAAKA,CAACA,MAAMA,CAACA,IAAIA,CAACA,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","file":"kurve-0.3.6.js","sourcesContent":["// Adapted from the original source: https://github.com/DirtyHairy/typescript-deferred\r\n// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See full license at the bottom of this file.\r\n\r\nmodule Kurve {\r\n\r\n\r\n    function DispatchDeferred(closure: () => void) {\r\n        setTimeout(closure, 0);\r\n    }\r\n\r\n    enum PromiseState { Pending, ResolutionInProgress, Resolved, Rejected }\r\n\r\n    class Client {\r\n        constructor(\r\n            private _dispatcher: (closure: () => void) => void,\r\n            private _successCB: any,\r\n            private _errorCB: any\r\n        ) {\r\n            this.result = new Deferred<any, any>(_dispatcher);\r\n        }\r\n\r\n        resolve(value: any, defer: boolean): void {\r\n            if (typeof (this._successCB) !== 'function') {\r\n                this.result.resolve(value);\r\n                return;\r\n            }\r\n\r\n            if (defer) {\r\n                this._dispatcher(() => this._dispatchCallback(this._successCB, value));\r\n            } else {\r\n                this._dispatchCallback(this._successCB, value);\r\n            }\r\n        }\r\n\r\n        reject(error: any, defer: boolean): void {\r\n            if (typeof (this._errorCB) !== 'function') {\r\n                this.result.reject(error);\r\n                return;\r\n            }\r\n\r\n            if (defer) {\r\n                this._dispatcher(() => this._dispatchCallback(this._errorCB, error));\r\n            } else {\r\n                this._dispatchCallback(this._errorCB, error);\r\n            }\r\n        }\r\n\r\n        private _dispatchCallback(callback: (arg: any) => any, arg: any): void {\r\n            var result: any,\r\n                then: any,\r\n                type: string;\r\n\r\n            try {\r\n                result = callback(arg);\r\n                this.result.resolve(result);\r\n            } catch (err) {\r\n                this.result.reject(err);\r\n                return;\r\n            }\r\n        }\r\n\r\n        result: Deferred<any, any>;\r\n    }\r\n\r\n    export class Deferred<T, E>  {\r\n        private _dispatcher: (closure: () => void)=> void;\r\n\r\n        constructor();\r\n        constructor(dispatcher: (closure: () => void) => void);\r\n        constructor(dispatcher?: (closure: () => void) => void) {\r\n            if (dispatcher)\r\n                this._dispatcher = dispatcher;\r\n            else\r\n                this._dispatcher = DispatchDeferred;\r\n            this.promise = new Promise<T, E>(this);\r\n        }\r\n\r\n        private DispatchDeferred(closure: () => void) {\r\n            setTimeout(closure, 0);\r\n        }\r\n\r\n        then(successCB: any, errorCB: any): any {\r\n            if (typeof (successCB) !== 'function' && typeof (errorCB) !== 'function') {\r\n                return this.promise;\r\n            }\r\n\r\n            var client = new Client(this._dispatcher, successCB, errorCB);\r\n\r\n            switch (this._state) {\r\n                case PromiseState.Pending:\r\n                case PromiseState.ResolutionInProgress:\r\n                    this._stack.push(client);\r\n                    break;\r\n\r\n                case PromiseState.Resolved:\r\n                    client.resolve(this._value, true);\r\n                    break;\r\n\r\n                case PromiseState.Rejected:\r\n                    client.reject(this._error, true);\r\n                    break;\r\n            }\r\n\r\n            return client.result.promise;\r\n        }\r\n\r\n        resolve(value?: T): Deferred<T, E>;\r\n\r\n        resolve(value?: Promise<T, E>): Deferred<T, E>;\r\n\r\n        resolve(value?: any): Deferred<T, E> {\r\n            if (this._state !== PromiseState.Pending) {\r\n                return this;\r\n            }\r\n\r\n            return this._resolve(value);\r\n        }\r\n\r\n        private _resolve(value: any): Deferred<T, E> {\r\n            var type = typeof (value),\r\n                then: any,\r\n                pending = true;\r\n\r\n            try {\r\n                if (value !== null &&\r\n                    (type === 'object' || type === 'function') &&\r\n                    typeof (then = value.then) === 'function') {\r\n                    if (value === this.promise) {\r\n                        throw new TypeError('recursive resolution');\r\n                    }\r\n\r\n                    this._state = PromiseState.ResolutionInProgress;\r\n                    then.call(value,\r\n                        (result: any): void => {\r\n                            if (pending) {\r\n                                pending = false;\r\n                                this._resolve(result);\r\n                            }\r\n                        },\r\n                        (error: any): void => {\r\n                            if (pending) {\r\n                                pending = false;\r\n                                this._reject(error);\r\n                            }\r\n                        }\r\n                    );\r\n                } else {\r\n                    this._state = PromiseState.ResolutionInProgress;\r\n\r\n                    this._dispatcher(() => {\r\n                        this._state = PromiseState.Resolved;\r\n                        this._value = value;\r\n\r\n                        var i: number,\r\n                            stackSize = this._stack.length;\r\n\r\n                        for (i = 0; i < stackSize; i++) {\r\n                            this._stack[i].resolve(value, false);\r\n                        }\r\n\r\n                        this._stack.splice(0, stackSize);\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                if (pending) {\r\n                    this._reject(err);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n\r\n        reject(error?: E): Deferred<T, E> {\r\n            if (this._state !== PromiseState.Pending) {\r\n                return this;\r\n            }\r\n\r\n            return this._reject(error);\r\n        }\r\n\r\n        private _reject(error?: any): Deferred<T, E> {\r\n            this._state = PromiseState.ResolutionInProgress;\r\n\r\n            this._dispatcher(() => {\r\n                this._state = PromiseState.Rejected;\r\n                this._error = error;\r\n\r\n                var stackSize = this._stack.length,\r\n                    i = 0;\r\n\r\n                for (i = 0; i < stackSize; i++) {\r\n                    this._stack[i].reject(error, false);\r\n                }\r\n\r\n                this._stack.splice(0, stackSize);\r\n            });\r\n\r\n            return this;\r\n        }\r\n\r\n        promise: Promise<T, E>;\r\n\r\n        private _stack: Array<Client> = [];\r\n        private _state = PromiseState.Pending;\r\n        private _value: T;\r\n        private _error: any;\r\n    }\r\n\r\n    export class Promise<T, E> implements Promise<T, E> {\r\n        constructor(private _deferred: Deferred<T, E>) { }\r\n\r\n        then<R>(\r\n            successCallback?: (result: T) => R,\r\n            errorCallback?: (error: E) => R\r\n        ): Promise<R, E>;\r\n\r\n        then(successCallback: any, errorCallback: any): any {\r\n            return this._deferred.then(successCallback, errorCallback);\r\n        }\r\n\r\n        fail<R>(\r\n            errorCallback?: (error: E) => R\r\n        ): Promise<R, E>;\r\n\r\n        fail(errorCallback: any): any {\r\n            return this._deferred.then(undefined, errorCallback);\r\n        }\r\n    }\r\n}\r\n\r\n//*********************************************************   \r\n//   \r\n//Kurve js, https://github.com/microsoftdx/kurvejs\r\n//  \r\n//Copyright (c) Microsoft Corporation  \r\n//All rights reserved.   \r\n//  \r\n// MIT License:  \r\n// Permission is hereby granted, free of charge, to any person obtaining  \r\n// a copy of this software and associated documentation files (the  \r\n// \"\"Software\"\"), to deal in the Software without restriction, including  \r\n// without limitation the rights to use, copy, modify, merge, publish,  \r\n// distribute, sublicense, and/or sell copies of the Software, and to  \r\n// permit persons to whom the Software is furnished to do so, subject to  \r\n// the following conditions:  \r\n\r\n\r\n\r\n\r\n// The above copyright notice and this permission notice shall be  \r\n// included in all copies or substantial portions of the Software.  \r\n\r\n\r\n\r\n\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,  \r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  \r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  \r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE  \r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION  \r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  \r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  \r\n//   \r\n//*********************************************************   \r\n","// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See full license at the bottom of this file.\r\nmodule Kurve {\r\n\r\n    export enum OAuthVersion {\r\n        v1=1,\r\n        v2=2\r\n    }\r\n    export class Error {\r\n        public status: number;\r\n        public statusText: string;\r\n        public text: string;\r\n        public other: any;\r\n    }\r\n    class Token {\r\n        id: string;\r\n        scopes: string[];\r\n        resource: string;\r\n        token: string;\r\n        expiry: Date;\r\n    }\r\n    interface TokenDictionary {\r\n        [index: string]: Token;\r\n    }\r\n\r\n    export class IdToken {\r\n        public Token: string;\r\n        public IssuerIdentifier: string;\r\n        public SubjectIdentifier: string;\r\n        public Audience: string;\r\n        public Expiry: Date;\r\n        public UPN: string;\r\n        public TenantId: string;\r\n        public FamilyName: string;\r\n        public GivenName: string;\r\n        public Name: string;\r\n        public PreferredUsername: string;\r\n\r\n    }\r\n    \r\n     export class Identity {\r\n        public authContext: any = null;\r\n        public config: any = null;\r\n        public isCallback: boolean = false;\r\n        public clientId: string;\r\n        private req: XMLHttpRequest;\r\n        private state: string;\r\n        private version: OAuthVersion;\r\n        private nonce: string;\r\n        private idToken: IdToken;\r\n        private loginCallback: (error: Error) => void;\r\n        private accessTokenCallback: (token: string, error: Error) => void;\r\n        private getTokenCallback: (token: string, error: Error) => void;\r\n        private tokenProcessorUrl: string;\r\n        private tokenCache: TokenDictionary;\r\n        private logonUser: any;\r\n        private refreshTimer: any;\r\n\r\n        constructor(clientId = \"\", tokenProcessingUri = \"\", version?: OAuthVersion) {\r\n            this.clientId = clientId;\r\n            this.tokenProcessorUrl = tokenProcessingUri;\r\n            this.req = new XMLHttpRequest();\r\n            this.tokenCache = {};\r\n            if (version)\r\n                this.version = version;\r\n            else\r\n                this.version = OAuthVersion.v1;\r\n\r\n            //Callback handler from other windows\r\n            window.addEventListener(\"message\", ((event: MessageEvent) => {\r\n                if (event.data.type === \"id_token\") {\r\n                    if (event.data.error) {\r\n                        var e: Error = new Error();\r\n                        e.text = event.data.error;\r\n                        this.loginCallback(e);\r\n                        \r\n                    } else {\r\n                        //check for state\r\n                        if (this.state !== event.data.state) {\r\n                            var error = new Error();\r\n                            error.statusText = \"Invalid state\";\r\n                            this.loginCallback(error);\r\n                        } else {\r\n                            this.decodeIdToken(event.data.token);\r\n                            this.loginCallback(null);\r\n                        }\r\n                    }\r\n                } else if (event.data.type === \"access_token\") {\r\n                    if (event.data.error) {\r\n                        var e: Error = new Error();\r\n                        e.text = event.data.error;\r\n                        this.getTokenCallback(null, e);\r\n\r\n                    } else {\r\n                        var token:string = event.data.token;\r\n                        var iframe = document.getElementById(\"tokenIFrame\");\r\n                        iframe.parentNode.removeChild(iframe);\r\n\r\n                        if (event.data.state !== this.state) {\r\n                            var error = new Error();\r\n                            error.statusText = \"Invalid state\";\r\n                            this.getTokenCallback(null, error);\r\n                        }\r\n                        else {\r\n                            this.getTokenCallback(token, null);\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n        }\r\n\r\n        public checkForIdentityRedirect(): boolean {\r\n            function token(s: string) {\r\n                var start = window.location.href.indexOf(s);\r\n                if (start < 0) return null;\r\n                var end = window.location.href.indexOf(\"&\",start + s.length);                \r\n                return  window.location.href.substring(start,((end > 0) ? end : window.location.href.length));\r\n            }\r\n\r\n            function parseQueryString(str: string) {\r\n                var queryString = str || window.location.search || '';\r\n                var keyValPairs: any[] = [];\r\n                var params: any = {};\r\n                queryString = queryString.replace(/.*?\\?/, \"\");\r\n\r\n                if (queryString.length) {\r\n                    keyValPairs = queryString.split('&');\r\n                    for (var pairNum in keyValPairs) {\r\n                        var key = keyValPairs[pairNum].split('=')[0];\r\n                        if (!key.length) continue;\r\n                        if (typeof params[key] === 'undefined')\r\n                            params[key] = [];\r\n                        params[key].push(keyValPairs[pairNum].split('=')[1]);\r\n                    }\r\n                }\r\n                return params;\r\n            }\r\n\r\n            var params = parseQueryString(window.location.href);\r\n            var idToken = token(\"#id_token=\");\r\n            var accessToken = token(\"#access_token\");\r\n            if (idToken) {\r\n                if (true || this.state === params[\"state\"][0]) { //BUG? When you are in a pure redirect system you don't remember your state or nonce so don't check.\r\n                    this.decodeIdToken(idToken);\r\n                    this.loginCallback && this.loginCallback(null);\r\n                } else {\r\n                    var error = new Error();\r\n                    error.statusText = \"Invalid state\";\r\n                    this.loginCallback && this.loginCallback(error);\r\n                }\r\n                return true;\r\n            }\r\n            else if (accessToken) {\r\n                throw \"Should not get here.  This should be handled via the iframe approach.\"\r\n                if (this.state === params[\"state\"][0]) {\r\n                    this.getTokenCallback && this.getTokenCallback(accessToken, null);\r\n                } else {\r\n                    var error = new Error();\r\n                    error.statusText = \"Invalid state\";\r\n                    this.getTokenCallback && this.getTokenCallback(null, error);\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        private decodeIdToken(idToken: string): void {\r\n\r\n            var decodedToken = this.base64Decode(idToken.substring(idToken.indexOf('.') + 1, idToken.lastIndexOf('.')));\r\n            var decodedTokenJSON = JSON.parse(decodedToken);\r\n            var expiryDate = new Date(new Date('01/01/1970 0:0 UTC').getTime() + parseInt(decodedTokenJSON.exp) * 1000);\r\n            this.idToken = new IdToken();\r\n            this.idToken.Token = idToken;\r\n            this.idToken.Expiry = expiryDate;\r\n            this.idToken.UPN = decodedTokenJSON.upn;\r\n            this.idToken.TenantId = decodedTokenJSON.tid;\r\n            this.idToken.FamilyName = decodedTokenJSON.family_name;\r\n            this.idToken.GivenName = decodedTokenJSON.given_name;\r\n            this.idToken.Name = decodedTokenJSON.name;\r\n            this.idToken.PreferredUsername = decodedTokenJSON.preferred_username;\r\n\r\n            \r\n            var expiration: Number = expiryDate.getTime() - new Date().getTime() - 300000;\r\n\r\n            this.refreshTimer = setTimeout((() => {\r\n                this.renewIdToken();\r\n            }), expiration);\r\n        }\r\n\r\n        private decodeAccessToken(accessToken: string, resource?:string, scopes?:string[]): void {\r\n            var decodedToken = this.base64Decode(accessToken.substring(accessToken.indexOf('.') + 1, accessToken.lastIndexOf('.')));\r\n            var decodedTokenJSON = JSON.parse(decodedToken);\r\n            var expiryDate = new Date(new Date('01/01/1970 0:0 UTC').getTime() + parseInt(decodedTokenJSON.exp) * 1000);\r\n            var key: string;\r\n            if (resource)\r\n                key = resource;\r\n            else\r\n                key = scopes.join(\" \");\r\n            var token = new Token();\r\n            token.expiry = expiryDate;\r\n            token.resource = resource;\r\n            token.scopes = scopes;\r\n            token.token = accessToken;\r\n            token.id = key;\r\n\r\n            this.tokenCache[key] = token;\r\n        }\r\n\r\n        public getIdToken(): any {\r\n            return this.idToken;\r\n        }\r\n        public isLoggedIn(): boolean {\r\n            if (!this.idToken) return false;\r\n            return (this.idToken.Expiry > new Date());\r\n        }\r\n\r\n        private renewIdToken(): void {\r\n            clearTimeout(this.refreshTimer);\r\n            this.login((() => {\r\n\r\n            }));\r\n        }\r\n\r\n        public getCurrentOauthVersion(): OAuthVersion {\r\n            return this.version;\r\n        }\r\n\r\n        public getAccessTokenAsync(resource: string): Promise<string,Error> {\r\n\r\n            var d = new Deferred<string,Error>();\r\n            this.getAccessToken(resource, ((token, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(token);\r\n                }\r\n            }));\r\n            return d.promise;\r\n        }   \r\n\r\n        public getAccessToken(resource: string, callback: (token: string, error: Error) => void): void {\r\n            if (this.version !== OAuthVersion.v1) {\r\n                var e = new Error();\r\n                e.statusText = \"Currently this identity class is using v2 OAuth mode. You need to use getAccessTokenForScopes() method\";\r\n                callback(null, e);\r\n                return;\r\n            }\r\n            //Check for cache and see if we have a valid token\r\n            var cachedToken = null;\r\n            var keys = Object.keys(this.tokenCache);\r\n            keys.forEach((key) => {\r\n                var token = this.tokenCache[key];\r\n                \r\n                //remove expired tokens\r\n                if (token.expiry <= (new Date(new Date().getTime() + 60000))) {\r\n                    delete this.tokenCache[key];\r\n                } else {\r\n                    //Tries to capture a token that matches the resource\r\n                    var containScopes = true;\r\n                    if (token.resource == resource) {\r\n                        cachedToken = token;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (cachedToken) {\r\n                //We have it cached, has it expired? (5 minutes error margin)\r\n                if (cachedToken.expiry > (new Date(new Date().getTime() + 60000))) {\r\n                    callback(<string>cachedToken.token, null);\r\n                    return;\r\n                }\r\n            }\r\n            //If we got this far, we need to go get this token\r\n\r\n            //Need to create the iFrame to invoke the acquire token\r\n            this.getTokenCallback = ((token: string, error: Error) => {\r\n                if (error) {\r\n                    callback(null, error);\r\n                }\r\n                else {\r\n                    this.decodeAccessToken(token, resource);\r\n                    callback(token, null);\r\n\r\n                }\r\n            });\r\n\r\n            this.nonce = \"token\" + this.generateNonce();\r\n            this.state = \"token\" + this.generateNonce();\r\n\r\n            var iframe = document.createElement('iframe');\r\n            iframe.style.display = \"none\";\r\n            iframe.id = \"tokenIFrame\";\r\n            \r\n            iframe.src = this.tokenProcessorUrl + \"?clientId=\" + encodeURIComponent(this.clientId) +\r\n            \"&resource=\" + encodeURIComponent(resource) +\r\n                \"&redirectUri=\" + encodeURIComponent(this.tokenProcessorUrl) +\r\n                \"&state=\" + encodeURIComponent(this.state) +\r\n                \"&version=\" + encodeURIComponent(this.version.toString()) +\r\n                \"&nonce=\" + encodeURIComponent(this.nonce) +\r\n                \"&op=token\";\r\n           \r\n            document.body.appendChild(iframe);\r\n        }\r\n\r\n      \r\n        public getAccessTokenForScopesAsync(scopes: string[], promptForConsent = false): Promise<string, Error> {\r\n\r\n            var d = new Deferred<string, Error>();\r\n            this.getAccessTokenForScopes(scopes, promptForConsent, ((token, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(token);\r\n                }\r\n            }));\r\n            return d.promise;\r\n        }   \r\n\r\n        public getAccessTokenForScopes(scopes: string[], promptForConsent=false, callback: (token: string, error: Error) => void): void {\r\n            if (this.version !== OAuthVersion.v2) {\r\n                var e = new Error();\r\n                e.statusText = \"Dynamic scopes require v2 mode. Currently this identity class is using v1\";\r\n                callback(null, e);\r\n                return;\r\n            }\r\n            \r\n            //Check for cache and see if we have a valid token\r\n            var cachedToken = null;\r\n            var keys = Object.keys(this.tokenCache);\r\n            keys.forEach((key) => {\r\n                var token = this.tokenCache[key];\r\n                \r\n                //remove expired tokens\r\n                if (token.expiry <= (new Date(new Date().getTime() + 60000))) {\r\n                    delete this.tokenCache[key];\r\n                } else {\r\n                    //Tries to capture a token that contains all scopes and is still valid\r\n                    var containScopes = true;\r\n                    if (token.scopes) {\r\n                        scopes.forEach((scope: string) => {\r\n                            if (token.scopes.indexOf(scope) < 0)\r\n                                containScopes = false;\r\n                        });\r\n                    }\r\n\r\n                    if (containScopes) {\r\n                        cachedToken = token;\r\n                    }\r\n                }\r\n            });\r\n            if (cachedToken) {\r\n                //We have it cached, has it expired? (5 minutes error margin)\r\n                if (cachedToken.expiry > (new Date(new Date().getTime() + 60000))) {\r\n                    callback(<string>cachedToken.token, null);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //If we got this far, we don't have a valid cached token, so will need to get one.\r\n\r\n            //Need to create the iFrame to invoke the acquire token\r\n\r\n            this.getTokenCallback = ((token: string, error: Error) => {\r\n                if (error) {\r\n                    if (promptForConsent || !error.text) {\r\n                        callback(null, error);\r\n                    } else if (error.text.indexOf(\"AADSTS65001\")>=0) {\r\n                        //We will need to try getting the consent\r\n                        this.getAccessTokenForScopes(scopes, true, this.getTokenCallback);\r\n                    } else {\r\n                        callback(null, error);\r\n                    }\r\n                }\r\n                else {\r\n                    this.decodeAccessToken(token, null, scopes);\r\n                    callback(token, null);\r\n                }\r\n            });\r\n\r\n            this.nonce = \"token\" + this.generateNonce();\r\n            this.state = \"token\" + this.generateNonce();\r\n\r\n            if (!promptForConsent) {\r\n                var iframe = document.createElement('iframe');\r\n                iframe.style.display = \"none\";\r\n                iframe.id = \"tokenIFrame\";\r\n                iframe.src = this.tokenProcessorUrl + \"?clientId=\" + encodeURIComponent(this.clientId) +\r\n                    \"&scopes=\" + encodeURIComponent(scopes.join(\" \")) +\r\n                    \"&redirectUri=\" + encodeURIComponent(this.tokenProcessorUrl) +\r\n                    \"&version=\" + encodeURIComponent(this.version.toString()) +\r\n                    \"&state=\" + encodeURIComponent(this.state) +\r\n                    \"&nonce=\" + encodeURIComponent(this.nonce) +\r\n                    \"&login_hint=\" + encodeURIComponent(this.idToken.PreferredUsername) +\r\n                    \"&domain_hint=\" + encodeURIComponent(this.idToken.TenantId === \"9188040d-6c67-4c5b-b112-36a304b66dad\" ? \"consumers\" : \"organizations\") +\r\n                    \"&op=token\";\r\n                document.body.appendChild(iframe);\r\n            } else {\r\n                window.open(this.tokenProcessorUrl + \"?clientId=\" + encodeURIComponent(this.clientId) +\r\n                    \"&scopes=\" + encodeURIComponent(scopes.join(\" \")) +\r\n                    \"&redirectUri=\" + encodeURIComponent(this.tokenProcessorUrl) +\r\n                    \"&version=\" + encodeURIComponent(this.version.toString()) +\r\n                    \"&state=\" + encodeURIComponent(this.state) +\r\n                    \"&nonce=\" + encodeURIComponent(this.nonce) +\r\n                    \"&op=token\" \r\n                    , \"_blank\");\r\n            }\r\n        }\r\n\r\n        public loginAsync(scopes?: string[]): Promise<void, Error> {\r\n            var d = new Deferred<void, Error>();\r\n            this.login((error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                }\r\n                else {\r\n                    d.resolve(null);\r\n                }\r\n            }, scopes);\r\n            return d.promise;\r\n        }\r\n\r\n        public login(callback: (error: Error) => void, scopes?:string[]): void {\r\n            this.loginCallback = callback;\r\n          \r\n            if (scopes && this.version === OAuthVersion.v1) {\r\n                var e = new Error();\r\n                e.text = \"Scopes can only be used with OAuth v2.\";\r\n                callback(e);\r\n                return;\r\n            }\r\n            this.state = \"login\" + this.generateNonce();\r\n            this.nonce = \"login\" + this.generateNonce();\r\n            var loginURL = this.tokenProcessorUrl + \"?clientId=\" + encodeURIComponent(this.clientId) +\r\n                \"&redirectUri=\" + encodeURIComponent(this.tokenProcessorUrl) +\r\n                \"&state=\" + encodeURIComponent(this.state) +\r\n                \"&nonce=\" + encodeURIComponent(this.nonce) +\r\n                \"&version=\" + encodeURIComponent(this.version.toString()) +\r\n                \"&op=login\";\r\n\r\n            if (scopes) {\r\n                loginURL += \"&scopes=\" + encodeURIComponent(scopes.join(\" \"));\r\n            }\r\n\r\n            window.open(loginURL, \"_blank\");\r\n        }\r\n\r\n\r\n        public loginNoWindowAsync(toUrl? : string): Promise<void, Error> {\r\n            var d = new Deferred<void, Error>();\r\n            this.loginNoWindow((error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                }\r\n                else {\r\n                    d.resolve(null);\r\n                }\r\n            }, toUrl);\r\n            return d.promise;\r\n        }\r\n\r\n        public loginNoWindow(callback: (error: Error) => void, toUrl? : string): void {\r\n            this.loginCallback = callback;\r\n            this.state = \"clientId=\" + this.clientId + \"&\" + \"tokenProcessorUrl=\" + this.tokenProcessorUrl\r\n            this.nonce = this.generateNonce();\r\n\r\n            var redirected = this.checkForIdentityRedirect();\r\n            if (!redirected) {                \r\n                var redirectUri = (toUrl) ? toUrl : window.location.href.split(\"#\")[0];  // default the no login window scenario to return to the current page\r\n                var url = \"https://login.microsoftonline.com/common/oauth2/authorize?response_type=id_token\" +\r\n                    \"&client_id=\" + encodeURIComponent(this.clientId) +\r\n                    \"&redirect_uri=\" + encodeURIComponent(redirectUri) +\r\n                    \"&state=\" + encodeURIComponent(this.state) +\r\n                    \"&nonce=\" + encodeURIComponent(this.nonce);\r\n                window.location.href = url;\r\n            }\r\n        }\r\n\r\n        public logOut(): void {\r\n            var url = \"https://login.microsoftonline.com/common/oauth2/logout?post_logout_redirect_uri=\" + encodeURI(window.location.href);\r\n            window.location.href = url;\r\n        }\r\n\r\n        private base64Decode(encodedString: string): string {\r\n            var e: any = {}, i: number, b = 0, c: number, x: number, l = 0, a: any, r = '', w = String.fromCharCode, L = encodedString.length;\r\n            var A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n            for (i = 0; i < 64; i++) { e[A.charAt(i)] = i; }\r\n            for (x = 0; x < L; x++) {\r\n                c = e[encodedString.charAt(x)];\r\n                b = (b << 6) + c;\r\n                l += 6;\r\n                while (l >= 8) {\r\n                    ((a = (b >>> (l -= 8)) & 0xff) || (x < (L - 2))) && (r += w(a));\r\n                }\r\n            }\r\n            return r;\r\n        }\r\n\r\n        private generateNonce(): string {\r\n            var text = \"\";\r\n            var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n            for (var i = 0; i < 32; i++) {\r\n                text += chars.charAt(Math.floor(Math.random() * chars.length));\r\n            }\r\n            return text;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//*********************************************************   \r\n//   \r\n//Kurve js, https://github.com/microsoftdx/kurvejs\r\n//  \r\n//Copyright (c) Microsoft Corporation  \r\n//All rights reserved.   \r\n//  \r\n// MIT License:  \r\n// Permission is hereby granted, free of charge, to any person obtaining  \r\n// a copy of this software and associated documentation files (the  \r\n// \"\"Software\"\"), to deal in the Software without restriction, including  \r\n// without limitation the rights to use, copy, modify, merge, publish,  \r\n// distribute, sublicense, and/or sell copies of the Software, and to  \r\n// permit persons to whom the Software is furnished to do so, subject to  \r\n// the following conditions:  \r\n\r\n\r\n\r\n\r\n// The above copyright notice and this permission notice shall be  \r\n// included in all copies or substantial portions of the Software.  \r\n\r\n\r\n\r\n\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,  \r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  \r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  \r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE  \r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION  \r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  \r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  \r\n//   \r\n//*********************************************************   \r\n","// Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See full license at the bottom of this file.\r\nmodule Kurve {\r\n    export module Scopes {\r\n        class Util {\r\n            static rootUrl = \"https://graph.microsoft.com/\";\r\n        }\r\n        export class General {\r\n            public static OpenId: string = \"openid\";\r\n            public static OfflineAccess: string = \"offline_access\";        \r\n        }\r\n        export class User {\r\n            public static Read: string = Util.rootUrl + \"User.Read\";\r\n            public static ReadWrite: string = Util.rootUrl + \"User.ReadWrite\";\r\n            public static ReadBasicAll: string = Util.rootUrl + \"User.ReadBasic.All\";\r\n            public static ReadAll: string = Util.rootUrl + \"User.Read.All\";\r\n            public static ReadWriteAll: string = Util.rootUrl + \"User.ReadWrite.All\";\r\n        }\r\n        export class Contacts {\r\n            public static Read: string = Util.rootUrl + \"Contacts.Read\";\r\n            public static ReadWrite: string = Util.rootUrl + \"Contacts.ReadWrite\";\r\n        }\r\n        export class Directory {\r\n            public static ReadAll: string = Util.rootUrl + \"Directory.Read.All\";\r\n            public static ReadWriteAll: string = Util.rootUrl + \"Directory.ReadWrite.All\";\r\n            public static AccessAsUserAll: string = Util.rootUrl + \"Directory.AccessAsUser.All\";\r\n        }\r\n        export class Group {\r\n            public static ReadAll: string = Util.rootUrl + \"Group.Read.All\";\r\n            public static ReadWriteAll: string = Util.rootUrl + \"Group.ReadWrite.All\";\r\n            public static AccessAsUserAll: string = Util.rootUrl + \"Directory.AccessAsUser.All\";\r\n        }\r\n        export class Mail {\r\n            public static Read: string = Util.rootUrl + \"Mail.Read\";\r\n            public static ReadWrite: string = Util.rootUrl + \"Mail.ReadWrite\";\r\n            public static Send: string = Util.rootUrl + \"Mail.Send\";\r\n        }\r\n        export class Calendars {\r\n            public static Read: string = Util.rootUrl + \"Calendars.Read\";\r\n            public static ReadWrite: string = Util.rootUrl + \"Calendars.ReadWrite\";\r\n        }\r\n        export class Files {\r\n            public static Read: string = Util.rootUrl + \"Files.Read\";\r\n            public static ReadAll: string = Util.rootUrl + \"Files.Read.All\";\r\n            public static ReadWrite: string = Util.rootUrl + \"Files.ReadWrite\";\r\n            public static ReadWriteAppFolder: string = Util.rootUrl + \"Files.ReadWrite.AppFolder\";\r\n            public static ReadWriteSelected: string = Util.rootUrl + \"Files.ReadWrite.Selected\"; \r\n        }\r\n        export class Tasks {\r\n            public static ReadWrite: string = Util.rootUrl + \"Tasks.ReadWrite\";\r\n        }\r\n        export class People {\r\n            public static Read: string = Util.rootUrl + \"People.Read\";\r\n            public static ReadWrite: string = Util.rootUrl + \"People.ReadWrite\";\r\n        }\r\n        export class Notes {\r\n            public static Create: string = Util.rootUrl + \"Notes.Create\";\r\n            public static ReadWriteCreatedByApp: string = Util.rootUrl + \"Notes.ReadWrite.CreatedByApp\";\r\n            public static Read: string = Util.rootUrl + \"Notes.Read\";\r\n            public static ReadAll: string = Util.rootUrl + \"Notes.Read.All\";\r\n            public static ReadWriteAll: string = Util.rootUrl + \"Notes.ReadWrite.All\";\r\n        }\r\n\r\n\r\n    }\r\n\r\n    export class ProfilePhotoDataModel {\r\n        public id: string;\r\n        public height: Number;\r\n        public width: Number;        \r\n    }\r\n\r\n    export class ProfilePhoto {\r\n        constructor(protected graph: Kurve.Graph, protected _data: ProfilePhotoDataModel) {\r\n        }\r\n\r\n        get data() { return this._data; }\r\n    }\r\n\r\n    export class UserDataModel {\r\n         public businessPhones : string;\r\n         public displayName: string;\r\n         public givenName: string;\r\n         public jobTitle: string;\r\n         public mail: string;\r\n         public mobilePhone: string;\r\n         public officeLocation: string;\r\n         public preferredLanguage: string;\r\n         public surname: string;\r\n         public userPrincipalName: string;\r\n         public id: string;\r\n    }\r\n\r\n    export class User  {\r\n        private graph: Kurve.Graph;\r\n        private _data: Kurve.UserDataModel;\r\n\r\n        constructor(graph: Kurve.Graph, _data: UserDataModel) {\r\n            this.graph = graph;\r\n            this._data = _data;\r\n        }\r\n\r\n        get data() { return this._data; }\r\n\r\n        // These are all passthroughs to the graph\r\n\r\n        public memberOf(callback: (groups: Groups, Error) => void, Error, odataQuery?: string) {\r\n            this.graph.memberOfForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public memberOfAsync(odataQuery?: string): Promise<Messages,Error> {\r\n            return this.graph.memberOfForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }\r\n\r\n        public messages(callback: (messages: Messages, error: Error) => void, odataQuery?: string) {\r\n            this.graph.messagesForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public messagesAsync(odataQuery?: string): Promise<Messages,Error> {\r\n            return this.graph.messagesForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }\r\n\r\n        public manager(callback: (user: Kurve.User, error: Error) => void, odataQuery?: string) {\r\n            this.graph.managerForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public managerAsync(odataQuery?: string): Promise<User,Error> {\r\n            return this.graph.managerForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }      \r\n\r\n        public profilePhoto(callback: (photo: ProfilePhoto, error: Error) => void) {\r\n            this.graph.profilePhotoForUser(this._data.userPrincipalName, callback);\r\n        }\r\n\r\n        public profilePhotoAsync(): Promise<ProfilePhoto, Error> {\r\n            return this.graph.profilePhotoForUserAsync(this._data.userPrincipalName);\r\n        }\r\n\r\n        public profilePhotoValue(callback: (val: any, error: Error) => void) {\r\n            this.graph.profilePhotoValueForUser(this._data.userPrincipalName, callback);\r\n        }\r\n\r\n        public profilePhotoValueAsync(): Promise<any, Error> {\r\n            return this.graph.profilePhotoValueForUserAsync(this._data.userPrincipalName);\r\n        }\r\n\r\n        public calendar(callback: (calendarItems: CalendarEvents, error: Error) => void, odataQuery?: string) {\r\n            this.graph.calendarForUser(this._data.userPrincipalName, callback, odataQuery);\r\n        }\r\n\r\n        public calendarAsync(odataQuery?: string): Promise<CalendarEvents, Error> {\r\n            return this.graph.calendarForUserAsync(this._data.userPrincipalName, odataQuery);\r\n        }\r\n\r\n    }\r\n\r\n    export class Users {\r\n\r\n        public nextLink: (callback?: (users: Kurve.Users, error: Error) => void, odataQuery?: string) => Promise<Users, Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: User[]) {\r\n        }\r\n\r\n        get data(): User[] {\r\n            return this._data;\r\n        }\r\n    }\r\n    export class MessageDataModel {\r\n        bccRecipients: string[]\r\n        body: Object\r\n        bodyPreview: string;\r\n        categories: string[]\r\n        ccRecipients: string[]\r\n        changeKey: string;\r\n        conversationId: string;\r\n        createdDateTime: string;\r\n        from: any;\r\n        graph: any;\r\n        hasAttachments: boolean;\r\n        id: string;\r\n        importance: string;\r\n        isDeliveryReceiptRequested: boolean;\r\n        isDraft: boolean;\r\n        isRead: boolean;\r\n        isReadReceiptRequested: boolean;\r\n        lastModifiedDateTime: string;\r\n        parentFolderId: string;\r\n        receivedDateTime: string;\r\n        replyTo: any[]\r\n        sender: any;\r\n        sentDateTime: string;\r\n        subject: string;\r\n        toRecipients: string[]\r\n        webLink: string;\r\n    }\r\n\r\n    export class Message {\r\n        constructor(protected graph: Kurve.Graph, protected _data: MessageDataModel) {\r\n        }\r\n        get data() : MessageDataModel {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class Messages {\r\n\r\n        public nextLink: (callback?: (messages: Kurve.Messages, error: Error) => void, odataQuery?: string) => Promise<Messages, Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: Message[]) {\r\n        }\r\n\r\n        get data(): Message[] {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class CalendarEvent {\r\n    }\r\n    export class CalendarEvents {\r\n\r\n        public nextLink: (callback?: (events: Kurve.CalendarEvents, error: Error) => void, odataQuery?: string) => Promise<(events: Kurve.CalendarEvents, error: Error) => void,Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: CalendarEvent[]) {\r\n        }\r\n\r\n        get data(): CalendarEvent[] {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class Contact {\r\n    }\r\n\r\n    export class GroupDataModel {\r\n        public id: string;\r\n        public description: string;\r\n        public displayName: string;\r\n        public groupTypes: string[];\r\n        public mail: string;\r\n        public mailEnabled: Boolean;\r\n        public mailNickname: string;\r\n        public onPremisesLastSyncDateTime: Date;\r\n        public onPremisesSecurityIdentifier: string;\r\n        public onPremisesSyncEnabled: Boolean;\r\n        public proxyAddresses: string[];\r\n        public securityEnabled: Boolean;\r\n        public visibility: string;      \r\n    }\r\n\r\n    export class Group {\r\n        constructor(protected graph: Kurve.Graph, protected _data: GroupDataModel) {\r\n        }\r\n\r\n        get data() { return this._data; }\r\n\r\n    }\r\n\r\n    export class Groups {\r\n\r\n        public nextLink: (callback?: (groups: Kurve.Groups, error: Error) => void, odataQuery?: string) => Promise<Groups, Error>\r\n        constructor(protected graph: Kurve.Graph, protected _data: Group[]) {\r\n        }\r\n\r\n        get data(): Group[] {\r\n            return this._data;\r\n        }\r\n    }\r\n\r\n    export class Graph {\r\n        private req: XMLHttpRequest = null;\r\n        private accessToken: string = null;\r\n        private KurveIdentity: Identity = null;\r\n        private defaultResourceID: string = \"https://graph.microsoft.com\";\r\n        private baseUrl: string = \"https://graph.microsoft.com/v1.0/\";\r\n\r\n        constructor(identityInfo: { identity: Identity });\r\n        constructor(identityInfo: { defaultAccessToken: string });\r\n        constructor(identityInfo: any) {\r\n            if (identityInfo.defaultAccessToken) {\r\n                this.accessToken = identityInfo.defaultAccessToken;\r\n            } else {\r\n                this.KurveIdentity = identityInfo.identity;\r\n            }\r\n        }\r\n      \r\n        //Only adds scopes when linked to a v2 Oauth of kurve identity\r\n        private scopesForV2(scopes: string[]): string[] {\r\n            if (!this.KurveIdentity)\r\n                return null;\r\n            if (this.KurveIdentity.getCurrentOauthVersion() === OAuthVersion.v1)\r\n                return null;\r\n            else return scopes;\r\n        }\r\n\r\n        //Users\r\n        public meAsync(odataQuery?: string): Promise<User, Error> {\r\n            var d = new Deferred<User,Error>();\r\n            this.me((user, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(user);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public me(callback: (user: User, error: Error) => void, odataQuery?: string): void {\r\n            var scopes = [Scopes.User.Read];\r\n            var urlString: string = this.buildMeUrl() + \"/\";\r\n            if (odataQuery) {\r\n                urlString += \"?\" + odataQuery;\r\n            }\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getUser(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public userAsync(userId: string, odataQuery?: string, basicProfileOnly = true): Promise<User, Error> {\r\n            var d = new Deferred<User,Error>();\r\n            this.user(userId, (user, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(user);\r\n                }\r\n            }, odataQuery, basicProfileOnly);\r\n            return d.promise;\r\n        }\r\n\r\n        public user(userId: string, callback: (user: Kurve.User, error: Error) => void, odataQuery?: string, basicProfileOnly = true): void {\r\n            var scopes = [];\r\n            if (basicProfileOnly)\r\n                scopes = [Scopes.User.ReadBasicAll];\r\n            else\r\n                scopes = [Scopes.User.ReadAll];\r\n\r\n            var urlString: string = this.buildUsersUrl() + \"/\" + userId;\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getUser(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public usersAsync(odataQuery?: string, basicProfileOnly = true): Promise<Users, Error> {\r\n            var d = new Deferred<Users,Error>();\r\n            this.users((users, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(users);\r\n                }\r\n            }, odataQuery, basicProfileOnly);\r\n            return d.promise;\r\n        }\r\n\r\n        public users(callback: (users: Kurve.Users, error: Error) => void, odataQuery?: string, basicProfileOnly = true): void {\r\n            var scopes = [];\r\n            if (basicProfileOnly)\r\n                scopes = [Scopes.User.ReadBasicAll];\r\n            else\r\n                scopes = [Scopes.User.ReadAll];\r\n            var urlString: string = this.buildUsersUrl() + \"/\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getUsers(urlString, callback, this.scopesForV2(scopes), basicProfileOnly);\r\n        }\r\n\r\n        //Groups\r\n        public groupAsync(groupId: string, odataQuery?: string): Promise<Group,Error> {\r\n            var d = new Deferred<Group,Error>();\r\n            this.group(groupId, (group, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(group);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public group(groupId: string, callback: (group: any, error: Error) => void, odataQuery?: string): void {\r\n            var scopes = [Scopes.Group.ReadAll];\r\n            var urlString: string = this.buildGroupsUrl() + \"/\" + groupId;\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getGroup(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public groupsAsync(odataQuery?: string): Promise<Groups, Error> {\r\n            var d = new Deferred<Groups, Error>();\r\n\r\n            this.groups((groups, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(groups);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public groups(callback: (groups: any, error: Error) => void, odataQuery?: string): void {\r\n            var scopes = [Scopes.Group.ReadAll];\r\n            var urlString: string = this.buildGroupsUrl() + \"/\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getGroups(urlString, callback, odataQuery, this.scopesForV2(scopes));\r\n        }      \r\n\r\n        // Messages For User\r\n        public messagesForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<Messages, Error> {\r\n            var d = new Deferred<Messages, Error>();\r\n            this.messagesForUser(userPrincipalName, (messages, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(messages);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public messagesForUser(userPrincipalName: string, callback: (messages: Messages, error: Error) => void, odataQuery?: string): void {\r\n            var scopes = [Scopes.Mail.Read];\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/messages\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n\r\n            this.getMessages(urlString, (result, error) => {\r\n                callback(result, error);\r\n            }, odataQuery, this.scopesForV2(scopes));\r\n        }\r\n\r\n\r\n        // Calendar For User\r\n        public calendarForUser(userPrincipalName: string, callback: (events: CalendarEvent, error: Error) => void, odataQuery?: string): void {\r\n        // // To BE IMPLEMENTED\r\n        //    var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/calendar/events\";\r\n        //    if (odataQuery) urlString += \"?\" + odataQuery;\r\n\r\n        //    this.getMessages(urlString, (result, error) => {\r\n        //        callback(result, error);\r\n        //    }, odataQuery);\r\n        }\r\n\r\n        public calendarForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<CalendarEvents, Error> {\r\n            var d = new Deferred<CalendarEvents,Error>();\r\n            // // To BE IMPLEMENTED\r\n            //    this.calendarForUser(userPrincipalName, (events, error) => {\r\n            //        if (error) {\r\n            //            d.reject(error);\r\n            //        } else {\r\n            //            d.resolve(events);\r\n            //        }\r\n            //    }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        // Groups/Relationships For User\r\n        public memberOfForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<Messages, Error> {\r\n            var d: any = new Deferred<Messages, Error>();\r\n            this.memberOfForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public memberOfForUser(userPrincipalName: string, callback: (groups: Kurve.Groups, error: Error) => void, odataQuery?: string) {\r\n            var scopes = [Scopes.Group.ReadAll];\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/memberOf\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getGroups(urlString, callback, odataQuery, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public managerForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<User, Error> {\r\n            var d = new Deferred<User, Error>();\r\n            this.managerForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public managerForUser(userPrincipalName: string, callback: (manager: Kurve.User, error: Error) => void, odataQuery?: string) {\r\n            var scopes = [Scopes.Directory.ReadAll];\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/manager\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getUser(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public directReportsForUserAsync(userPrincipalName: string, odataQuery?: string): Promise<Users, Error> {\r\n            var d = new Deferred<Users, Error>();\r\n            this.directReportsForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            }, odataQuery);\r\n            return d.promise;\r\n        }\r\n\r\n        public directReportsForUser(userPrincipalName: string, callback: (users: Kurve.Users, error: Error) => void, odataQuery?: string) {\r\n            var scopes = [Scopes.Directory.ReadAll];\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/directReports\";\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.getUsers(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public profilePhotoForUserAsync(userPrincipalName: string): Promise<ProfilePhoto, Error> {\r\n            var d = new Deferred<ProfilePhoto, Error>();\r\n\r\n            this.profilePhotoForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public profilePhotoForUser(userPrincipalName: string, callback: (photo: ProfilePhoto, error: Error) => void) {\r\n            var scopes = [Scopes.User.ReadBasicAll];\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/photo\";\r\n            this.getPhoto(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n\r\n        public profilePhotoValueForUserAsync(userPrincipalName: string): Promise<any, Error> {\r\n            var d = new Deferred<any, Error>();\r\n            this.profilePhotoValueForUser(userPrincipalName, (result, error) => {\r\n                if (error) {\r\n                    d.reject(error);\r\n                } else {\r\n                    d.resolve(result);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public profilePhotoValueForUser(userPrincipalName: string, callback: (photo: any, error: Error) => void) {\r\n            var scopes = [Scopes.User.ReadBasicAll];\r\n            var urlString = this.buildUsersUrl() + \"/\" + userPrincipalName + \"/photo/$value\";\r\n            this.getPhotoValue(urlString, callback, this.scopesForV2(scopes));\r\n        }\r\n    \r\n        //http verbs\r\n        public getAsync(url: string): Promise<string, Error> {\r\n            var d = new Deferred<string,Error>();\r\n            this.get(url, (response, error) => {\r\n                if (!error) {\r\n                    d.resolve(response);\r\n                }\r\n                else {\r\n                    d.reject(error);\r\n                }\r\n            });\r\n            return d.promise;\r\n        }\r\n\r\n        public get(url: string, callback: (response: string, error: Error) => void, responseType?: string, scopes?:string[]): void {\r\n            var xhr = new XMLHttpRequest();\r\n            if (responseType)\r\n                xhr.responseType = responseType;\r\n            xhr.onreadystatechange = (() => {\r\n                if (xhr.readyState === 4 && xhr.status === 200) {\r\n                    if (!responseType)\r\n                        callback(xhr.responseText, null);\r\n                    else\r\n                        callback(xhr.response, null);\r\n                } else if (xhr.readyState === 4 && xhr.status !== 200) {\r\n                    callback(null, this.generateError(xhr));\r\n                }\r\n            });\r\n\r\n            xhr.open(\"GET\", url);\r\n            this.addAccessTokenAndSend(xhr, (addTokenError: Error) => {\r\n                if (addTokenError) {\r\n                    callback(null, addTokenError);\r\n                }\r\n            }, scopes);\r\n        }\r\n\r\n        private generateError(xhr: XMLHttpRequest): Error {\r\n            var response = new Error();\r\n            response.status = xhr.status;\r\n            response.statusText = xhr.statusText;\r\n            if (xhr.responseType === '' || xhr.responseType === 'text')\r\n                response.text = xhr.responseText;\r\n            else\r\n                response.other = xhr.response;\r\n            return response;\r\n\r\n        }\r\n\r\n        //Private methods\r\n\r\n        private getUsers(urlString, callback: (users: Kurve.Users, error: Error) => void, scopes?: string[], basicProfileOnly = true): void {\r\n\r\n            this.get(urlString, ((result: string, errorGet: Error) => {\r\n                \r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n\r\n                var usersODATA = JSON.parse(result);\r\n                if (usersODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = usersODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var resultsArray = (usersODATA.value ? usersODATA.value : [usersODATA]) as any[];\r\n                var users = new Kurve.Users(this, resultsArray.map(o => {\r\n                    return new User(this, o);\r\n                }));\r\n\r\n                //implement nextLink\r\n                var nextLink = usersODATA['@odata.nextLink'];\r\n\r\n                if (nextLink) {\r\n                    users.nextLink = ((callback?: (result: Users, error: Error) => void) => {\r\n\r\n                        var scopes = [];\r\n                        if (basicProfileOnly)\r\n                            scopes = [Scopes.User.ReadBasicAll];\r\n                        else\r\n                            scopes = [Scopes.User.ReadAll];\r\n\r\n                        var d = new Deferred<Users,Error>();\r\n                        this.getUsers(nextLink, ((result, error) => {\r\n                            if (callback)\r\n                                callback(result, error);\r\n                            else if (error) {\r\n                                d.reject(error);\r\n                            }\r\n                            else {\r\n                                d.resolve(result);\r\n                            }\r\n                        }), this.scopesForV2(scopes), basicProfileOnly);\r\n                        return d.promise;\r\n                    });\r\n                }\r\n\r\n                callback(users, null);\r\n            }),null,scopes);\r\n        }\r\n\r\n        private getUser(urlString, callback: (user: User, error: Error) => void, scopes?:string[]): void {\r\n            this.get(urlString, (result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var userODATA = JSON.parse(result) ;\r\n                if (userODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = userODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var user = new User(this, userODATA);\r\n                callback(user, null);\r\n            },null,scopes);\r\n\r\n        }\r\n\r\n        private addAccessTokenAndSend(xhr: XMLHttpRequest, callback: (error: Error) => void, scopes?:string[]): void {\r\n            if (this.accessToken) {\r\n                //Using default access token\r\n                xhr.setRequestHeader('Authorization', 'Bearer ' + this.accessToken);\r\n                xhr.send();\r\n            } else {\r\n                //Using the integrated Identity object\r\n\r\n                if (scopes) {\r\n                    //v2 scope based tokens\r\n                    this.KurveIdentity.getAccessTokenForScopes(scopes,false, ((token: string, error: Error) => {                   \r\n                        if (error)\r\n                            callback(error);\r\n                        else {\r\n                            xhr.setRequestHeader('Authorization', 'Bearer ' + token);\r\n                            xhr.send();\r\n                            callback(null);\r\n                        }\r\n                    }));\r\n\r\n                }\r\n                else {\r\n                    //v1 resource based tokens\r\n                    this.KurveIdentity.getAccessToken(this.defaultResourceID, ((token: string, error: Error) => {                  \r\n                        if (error)\r\n                            callback(error);\r\n                        else {\r\n                            xhr.setRequestHeader('Authorization', 'Bearer ' + token);\r\n                            xhr.send();\r\n                            callback(null);\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n\r\n        private getMessages(urlString: string, callback: (messages: Messages, error: Error) => void, odataQuery?: string, scopes?:string[]): void {\r\n\r\n            var url = urlString;\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.get(url, ((result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n\r\n                var messagesODATA = JSON.parse(result);\r\n                if (messagesODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = messagesODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var resultsArray = (messagesODATA.value ? messagesODATA.value : [messagesODATA]) as any[];\r\n                var messages = new Kurve.Messages(this, resultsArray.map(o => {\r\n                    return new Message(this, o);\r\n                }));\r\n                if (messagesODATA['@odata.nextLink']) {\r\n                    messages.nextLink = (callback?: (messages: Messages, error: Error) => void, odataQuery?: string) => {\r\n\r\n                        var scopes = [Scopes.Mail.Read];\r\n                      \r\n\r\n                        var d = new Deferred<Messages,Error>();\r\n                        \r\n                        this.getMessages(messagesODATA['@odata.nextLink'], (messages, error) => {\r\n                            if (callback)\r\n                                callback(messages, error);\r\n                            else if (error) {\r\n                                d.reject(error);\r\n                            }\r\n                            else {\r\n                                d.resolve(messages);\r\n                            }\r\n                        }, odataQuery, this.scopesForV2(scopes));\r\n                        return d.promise;\r\n\r\n                    };\r\n                }\r\n                callback(messages,  null);\r\n            }),null,scopes);\r\n        }\r\n\r\n        private getGroups(urlString: string, callback: (groups: Kurve.Groups, error: Error) => void, odataQuery?: string,scopes?:string[]): void {\r\n\r\n            var url = urlString;\r\n            if (odataQuery) urlString += \"?\" + odataQuery;\r\n            this.get(url, ((result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var groupsODATA = JSON.parse(result);\r\n                if (groupsODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = groupsODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n\r\n                var resultsArray = (groupsODATA.value ? groupsODATA.value : [groupsODATA]) as any[];\r\n                var groups = new Kurve.Groups(this, resultsArray.map(o => {\r\n                    return new Group(this, o);\r\n                }));\r\n\r\n                var nextLink = groupsODATA['@odata.nextLink'];\r\n\r\n                //implement nextLink\r\n                if (nextLink) {\r\n                    groups.nextLink = ((callback?: (result: Groups, error: Error) => void) => {\r\n\r\n                        var scopes = [Scopes.Group.ReadAll];\r\n                        var d = new Deferred<Groups,Error>();\r\n                        this.getGroups(nextLink, ((result, error) => {\r\n                            if (callback)\r\n                                callback(result, error);\r\n                            else if (error) {\r\n                                d.reject(error);\r\n                            }\r\n                            else {\r\n                                d.resolve(result);\r\n                            }\r\n                        }), odataQuery, this.scopesForV2(scopes));\r\n                        return d.promise;\r\n                    });\r\n                }\r\n\r\n                callback(groups, null);\r\n            }),null,scopes);\r\n        }\r\n\r\n        private getGroup(urlString, callback: (group: Kurve.Group, error: Error) => void,scopes?:string[]): void {\r\n            this.get(urlString, (result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var ODATA = JSON.parse(result);\r\n                if (ODATA.error) {\r\n                    var ODATAError = new Error();\r\n                    ODATAError.other = ODATA.error;\r\n                    callback(null, ODATAError);\r\n                    return;\r\n                }\r\n                var group = new Kurve.Group(this, ODATA);\r\n\r\n                callback(group, null);\r\n            },null,scopes);\r\n\r\n        }\r\n\r\n        private getPhoto(urlString, callback: (photo: ProfilePhoto, error: Error) => void, scopes?:string[]): void {\r\n            this.get(urlString, (result: string, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                var ODATA = JSON.parse(result);\r\n                if (ODATA.error) {\r\n                    var errorODATA = new Error();\r\n                    errorODATA.other = ODATA.error;\r\n                    callback(null, errorODATA);\r\n                    return;\r\n                }\r\n                var photo = new ProfilePhoto(this, ODATA);\r\n\r\n                callback(photo, null);\r\n            },null,scopes);\r\n        }\r\n\r\n        private getPhotoValue(urlString, callback: (photo: any, error: Error) => void,scopes?:string[]): void {\r\n            this.get(urlString, (result: any, errorGet: Error) => {\r\n                if (errorGet) {\r\n                    callback(null, errorGet);\r\n                    return;\r\n                }\r\n                callback(result, null);\r\n            }, \"blob\",scopes);\r\n        }\r\n        private buildMeUrl(): string {\r\n            return this.baseUrl + \"me\";\r\n        }\r\n        private buildUsersUrl(): string {\r\n            return this.baseUrl + \"/users\";\r\n        }\r\n        private buildGroupsUrl(): string {\r\n            return this.baseUrl + \"/groups\";\r\n        }\r\n    }\r\n}\r\n\r\n//*********************************************************   \r\n//   \r\n//Kurve js, https://github.com/microsoftdx/kurvejs\r\n//  \r\n//Copyright (c) Microsoft Corporation  \r\n//All rights reserved.   \r\n//  \r\n// MIT License:  \r\n// Permission is hereby granted, free of charge, to any person obtaining  \r\n// a copy of this software and associated documentation files (the  \r\n// \"\"Software\"\"), to deal in the Software without restriction, including  \r\n// without limitation the rights to use, copy, modify, merge, publish,  \r\n// distribute, sublicense, and/or sell copies of the Software, and to  \r\n// permit persons to whom the Software is furnished to do so, subject to  \r\n// the following conditions:  \r\n\r\n\r\n\r\n\r\n// The above copyright notice and this permission notice shall be  \r\n// included in all copies or substantial portions of the Software.  \r\n\r\n\r\n\r\n\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,  \r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF  \r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND  \r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE  \r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION  \r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION  \r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  \r\n//   \r\n//*********************************************************   \r\n"],"sourceRoot":"/source/"}